"use strict";(self.webpackChunktemp=self.webpackChunktemp||[]).push([[775],{4775:(li,Me,g)=>{g.r(Me),g.d(Me,{AdminModule:()=>si});var k=g(6895),x=g(8136),We=g(5826),Fe=g(3391),e=g(4650),ke=g(2542),G=g(2013),oe=g(6571),E=g(7092),$=g(362);const Ae=function(){return{exact:!0}};function Re(o,n){1&o&&(e.ynx(0),e.TgZ(1,"li",14)(2,"h6",15),e._uU(3,"Masters"),e.qZA()(),e.TgZ(4,"li",8)(5,"a",9)(6,"div",10)(7,"i",11),e._uU(8,"person"),e.qZA()(),e.TgZ(9,"span",12),e._uU(10,"Users"),e.qZA()()(),e.BQk()),2&o&&(e.xp6(5),e.Q6J("routerLink","/admin/users")("routerLinkActiveOptions",e.DdM(2,Ae)))}let qe=(()=>{class o{constructor(t,i,r,l,d,u,v){this.document=t,this.authService=i,this.notificationService=r,this.loggingService=l,this.router=d,this.modalService=u,this.adminService=v,this.user=void 0}ngOnInit(){this.user=this.authService.getAuthFromLocalStorage()}toggleNav(){this.document.body.classList.toggle("g-sidenav-pinned")}logout(){console.log(this.authService.getAuthFromLocalStorage());let t=this.authService.getAuthFromLocalStorage().employee_id;this.authService.logout(t).subscribe({next:i=>{this.authService.clearAuthFromLocalStorage(),this.router.navigate(["/auth"])},error:i=>{this.notificationService.showDisposableAlert(i.error.message),this.loggingService.logError("Unable to login",i)}})}changeSelfPassword(){this.modalService.open(Fe.x,{backdropClass:"modal-backdrop",backdrop:"static",keyboard:!1}).result.then(i=>{})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(k.K0),e.Y36(ke.e),e.Y36(G.g),e.Y36(oe.e),e.Y36(x.F0),e.Y36(E.FF),e.Y36($.l))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-admin"]],decls:58,vars:5,consts:[["id","sidenav-main",1,"sidenav","navbar","navbar-vertical","navbar-expand-xs","border-0","border-radius-xl","my-3","fixed-start","ms-3","bg-gradient-dark"],[1,"sidenav-header"],[1,"material-icons","opacity-5","text-white","p-3","cursor-pointer","position-absolute","end-0","top-0","d-xl-none",3,"click"],["href","javascript:void(0)",1,"navbar-brand","m-0"],["src","./assets/images/logo.png","alt","main_logo",1,"navbar-brand-img","h-100",2,"max-width","275px","height","auto"],[1,"horizontal","light","mt-0","mb-2"],["id","sidenav-collapse-main",1,"collapse","navbar-collapse","w-auto"],[1,"navbar-nav"],[1,"nav-item"],["routerLinkActive","active",1,"nav-link","text-white",3,"routerLink","routerLinkActiveOptions"],[1,"text-white","text-center","me-2","d-flex","align-items-center","justify-content-center"],[1,"material-icons","opacity-10"],[1,"nav-link-text","ms-1"],[4,"ngIf"],[1,"nav-item","mt-3"],[1,"ps-4","ms-2","text-uppercase","text-xs","text-white","font-weight-bolder","opacity-8"],[1,"nav-item","cursor-pointer",3,"click"],[1,"nav-link","text-white"],[1,"sidenav-footer","position-absolute","w-100","bottom-0"],[1,"mx-3"],["type","button",1,"btn","bg-gradient-primary","mt-4","w-100",3,"click"],[1,"main-content","position-relative","max-height-vh-100","h-100","border-radius-lg"],["id","navbarBlur","data-scroll","true",1,"navbar","navbar-main","navbar-expand-lg","px-0","shadow-none","border-radius-xl"],[1,"container-fluid","py-1"],["aria-label","breadcrumb"],[1,"breadcrumb","bg-transparent","mb-0","pb-0","pt-1","px-0","me-sm-6","me-5"],[1,"breadcrumb-item","text-sm"],["href","javascript:;",1,"opacity-5","text-dark"],["aria-current","page",1,"breadcrumb-item","text-sm","text-dark","active"],["id","navbar",1,"collapse","navbar-collapse","mt-sm-0","mt-2","me-md-0","me-sm-4"],[1,"ms-md-auto","pe-md-3","d-flex","align-items-center"],[1,"navbar-nav","justify-content-end"],[1,"nav-item","d-flex","align-items-center","d-sm-inline","d-none"],["href","javascript:;",1,"nav-link","text-body","font-weight-bold","px-0","d-flex"],[1,"nav-item","d-xl-none","ps-3","d-flex","align-items-center"],["href","javascript:;","id","iconNavbarSidenav",1,"nav-link","text-body","p-0"],[1,"sidenav-toggler-inner",3,"click"],[1,"sidenav-toggler-line"]],template:function(t,i){1&t&&(e.TgZ(0,"aside",0)(1,"div",1)(2,"i",2),e.NdJ("click",function(){return i.toggleNav()}),e._uU(3,"close"),e.qZA(),e.TgZ(4,"a",3),e._UZ(5,"img",4),e.qZA()(),e._UZ(6,"hr",5),e.TgZ(7,"div",6)(8,"ul",7)(9,"li",8)(10,"a",9)(11,"div",10)(12,"i",11),e._uU(13,"dashboard"),e.qZA()(),e.TgZ(14,"span",12),e._uU(15,"Dashboard"),e.qZA()()(),e.YNc(16,Re,11,3,"ng-container",13),e.TgZ(17,"li",14)(18,"h6",15),e._uU(19,"My Account"),e.qZA()(),e.TgZ(20,"li",16),e.NdJ("click",function(){return i.changeSelfPassword()}),e.TgZ(21,"div",17)(22,"div",10)(23,"i",11),e._uU(24,"lock"),e.qZA()(),e.TgZ(25,"span",12),e._uU(26,"Change Password"),e.qZA()()()()(),e.TgZ(27,"div",18)(28,"div",19)(29,"button",20),e.NdJ("click",function(){return i.logout()}),e._uU(30,"Logout"),e.qZA()()()(),e.TgZ(31,"main",21)(32,"nav",22)(33,"div",23)(34,"nav",24)(35,"ol",25)(36,"li",26)(37,"a",27),e._uU(38,"Bajaj Allianz Life"),e.qZA()(),e.TgZ(39,"li",28),e._uU(40,"SOH"),e.qZA()()(),e.TgZ(41,"div",29),e._UZ(42,"div",30),e.TgZ(43,"ul",31)(44,"li",32)(45,"a",33)(46,"i",11),e._uU(47,"person"),e.qZA(),e._uU(48,"\xa0 "),e.TgZ(49,"span"),e._uU(50),e.qZA()()(),e.TgZ(51,"li",34)(52,"a",35)(53,"div",36),e.NdJ("click",function(){return i.toggleNav()}),e._UZ(54,"i",37)(55,"i",37)(56,"i",37),e.qZA()()()()()()(),e._UZ(57,"router-outlet"),e.qZA()),2&t&&(e.xp6(10),e.Q6J("routerLink","/admin/dashboard")("routerLinkActiveOptions",e.DdM(4,Ae)),e.xp6(6),e.Q6J("ngIf","Admin"==(null==i.user?null:i.user.role)),e.xp6(34),e.hij("Welcome ",null==i.user?null:i.user.name,""))},dependencies:[k.O5,x.lC,x.yS,x.Od]}),o})();var V=g(7579),Te=g(8372),re=g(1884),A=g(2340),je=g(529);let Ye=(()=>{class o{constructor(t,i){this.http=t,this.loggingService=i}getEvents(t){return this.http.post(`${A.N.URL}/event/get-all`,t)}getTop3Events(t){return this.http.post(`${A.N.URL}/event/get-top-3`,t)}addEvent(t){return this.http.post(`${A.N.URL}/event/add`,t)}updateEvent(t){return this.http.post(`${A.N.URL}/event/update`,t)}getEvent(t){return this.http.post(`${A.N.URL}/event/get`,t)}exportAttendanceExcel(t){return this.http.post(`${A.N.URL}/event/export-attendance-excel`,t,{responseType:"blob"})}exportAttendancePdf(t){return this.http.post(`${A.N.URL}/event/export-attendance-pdf`,t,{responseType:"blob"})}getEventAttendance(t){return this.http.post(`${A.N.URL}/event-attendance/get-all`,t)}addAttrendance(t){return this.http.post(`${A.N.URL}/event-attendance/add`,t)}getEventAnalytics(t){return this.http.post(`${A.N.URL}/event-survey/get-event-analytics`,t)}getEventUserSurvey(t){return this.http.post(`${A.N.URL}/event-survey/get-event-user-survey`,t)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(je.eN),e.LFG(oe.e))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var h=g(433),Pe=g(355);const Je=function(o,n,t){return{"bg-gradient-primary":o,"bg-gradient-success":n,"bg-gradient-dark":t}};function Ge(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"div",28)(1,"div",29),e.NdJ("click",function(){const l=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.openEvent(l))}),e.TgZ(2,"div",30),e._UZ(3,"div",31),e.qZA(),e.TgZ(4,"div",32)(5,"h6",33),e._uU(6),e.qZA(),e.TgZ(7,"p",9),e._uU(8),e.qZA()()()()}if(2&o){const t=n.$implicit,i=n.index;e.xp6(3),e.Q6J("ngClass",e.kEZ(3,Je,0==i,1==i,2==i)),e.xp6(3),e.Oqu(t.event_name),e.xp6(2),e.Oqu(t.location)}}function $e(o,n){1&o&&(e.TgZ(0,"th",21),e._uU(1," Owner"),e.qZA())}function Ve(o,n){if(1&o&&(e.TgZ(0,"tr")(1,"td",34),e._uU(2,"No events available"),e.qZA()()),2&o){const t=e.oxw();e.xp6(1),e.uIk("colspan","Admin"==(null==t.user?null:t.user.role)?7:6)}}function Qe(o,n){if(1&o&&(e.TgZ(0,"td",40)(1,"span",47)(2,"i",48),e._uU(3,"person"),e.qZA(),e._uU(4),e.qZA()()),2&o){const t=e.oxw().$implicit;e.xp6(4),e.hij("\xa0",t.master_employee.employee_name," ")}}function Ke(o,n){1&o&&(e.TgZ(0,"span",49),e._uU(1,"Live"),e.qZA())}const He=function(o,n){return{"bg-success":o,"bg-danger":n}};function Xe(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"div",35),e._UZ(3,"div",36),e.TgZ(4,"div",37),e.NdJ("click",function(){const l=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.openEvent(l))}),e.TgZ(5,"a",38),e._uU(6),e.qZA(),e.TgZ(7,"span",39),e._uU(8),e.qZA()()()(),e.TgZ(9,"td",40)(10,"span",39),e._uU(11),e.qZA()(),e.TgZ(12,"td",41)(13,"span",39),e._uU(14),e.qZA()(),e.YNc(15,Qe,5,1,"td",42),e.TgZ(16,"td",43)(17,"span",39),e._uU(18),e.ALo(19,"date"),e.qZA()(),e.TgZ(20,"td",40)(21,"span",44),e._uU(22),e.qZA(),e.YNc(23,Ke,2,0,"span",45),e.qZA(),e.TgZ(24,"td",41)(25,"i",46),e._uU(26,"edit"),e.qZA()()()}if(2&o){const t=n.$implicit,i=e.oxw();e.xp6(6),e.Oqu(t.event_name),e.xp6(2),e.Oqu(t.location),e.xp6(3),e.hij(" ",t.trainer_host_name," "),e.xp6(3),e.hij(" ",t.guest_count," "),e.xp6(1),e.Q6J("ngIf","Admin"==(null==i.user?null:i.user.role)),e.xp6(3),e.hij(" ",e.xi3(19,9,t.created_at,"dd MMM YYYY")," "),e.xp6(3),e.Q6J("ngClass",e.WLB(12,He,"Active"==t.status,"Inactive"==t.status)),e.xp6(1),e.hij("",t.status," "),e.xp6(1),e.Q6J("ngIf",t.isLive)}}function et(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"app-paginator",50),e.NdJ("loadPage",function(r){e.CHM(t);const l=e.oxw();return e.KtG(l.pager(r))})("changePerPage",function(r){e.CHM(t);const l=e.oxw();return e.KtG(l.changePerPage(r))}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("currentPage",t.currentPage)("perPage",t.perPage)("total",t.list.total)("lastPage",t.list.totalPages)}}let tt=(()=>{class o{constructor(t,i,r,l,d,u){this.modalService=t,this.router=i,this.notificationService=r,this.loggingService=l,this.eventService=d,this.authService=u,this.user=void 0,this.list={},this.currentPage=1,this.perPage=10,this.BASE_URL=A.N.BASE_URL,this.latestEvents=[],this.searchTerm="",this.searchTermChanged=new V.x}ngOnInit(){this.user=this.authService.getAuthFromLocalStorage(),this.getTop3(),this.getData()}onKeyUp(t){0===this.searchTermChanged.observers.length&&this.searchTermChanged.pipe((0,Te.b)(600),(0,re.x)()).subscribe(i=>{this.currentPage=1,this.getData()}),this.searchTermChanged.next(t)}openEvent(t){this.router.navigate(["admin","event"],{state:{data:t}})}getTop3(){this.eventService.getTop3Events({search:this.searchTerm,pageNumber:this.currentPage,numberOfRows:this.perPage}).subscribe({next:i=>{this.latestEvents=i}})}getData(){this.eventService.getEvents({search:this.searchTerm,pageNumber:this.currentPage,numberOfRows:this.perPage}).subscribe({next:i=>{this.list=i}})}pager(t){this.currentPage=t,this.getData()}changePerPage(t){this.currentPage=1,this.perPage=t,this.getData()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(E.FF),e.Y36(x.F0),e.Y36(G.g),e.Y36(oe.e),e.Y36(Ye),e.Y36(ke.e))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-dashboard"]],decls:45,vars:7,consts:[[1,"container-fluid"],[1,"row","mt-0"],["class","col-lg-4 col-md-6 mt-4 mb-4 cursor-pointer",4,"ngFor","ngForOf"],[1,"row","mb-4"],[1,"col-lg-12","col-md-12","mb-md-0","mb-4"],[1,"card"],[1,"card-header","pb-0"],[1,"row"],[1,"col-lg-6","col-12"],[1,"text-sm","mb-0"],["aria-hidden","true",1,"fa","fa-check","text-info"],[1,"font-weight-bold"],[1,"col-lg-6","col-12","my-auto","text-end","d-inline-flex","justify-content-end","align-items-center"],[1,"input-outline","me-2"],["type","text",1,"form-control",3,"ngModel","ngModelChange","keyup"],["type","button",1,"btn","bg-gradient-primary","mb-0"],[1,"material-icons","opacity-10"],[1,"card-body","px-0","pb-2"],[1,"table-responsive"],[1,"table","align-items-center","mb-0"],[1,"text-uppercase","text-secondary","text-xs","font-weight-bolder","opacity-7"],[1,"text-uppercase","text-secondary","text-xs","font-weight-bolder","opacity-7","ps-2"],[1,"text-center","text-uppercase","text-secondary","text-xs","font-weight-bolder","opacity-7"],["class","text-uppercase text-secondary text-xs font-weight-bolder opacity-7 ps-2",4,"ngIf"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"px-4","mt-3"],[3,"currentPage","perPage","total","lastPage","loadPage","changePerPage",4,"ngIf"],[1,"col-lg-4","col-md-6","mt-4","mb-4","cursor-pointer"],[1,"card","z-index-2",3,"click"],[1,"card-header","p-0","position-relative","mt-n4","mx-3","z-index-2","bg-transparent"],[1,"bg-gradient-primary","shadow-primary","border-radius-lg","py-3","pe-1","text-center","cursor-pointer",3,"ngClass"],[1,"card-body"],[1,"mb-0"],[1,"text-center"],[1,"d-flex","px-2","py-1"],[1,"me-2"],[1,"d-flex","flex-column","justify-content-center",3,"click"],["href","javascript:;",1,"mb-0","text-sm","text-dark","text-decoration-underline"],[1,"text-sm","text-dark"],[1,"align-middle"],[1,"align-middle","text-center","text-sm"],["class","align-middle",4,"ngIf"],[1,"align-middle","text-sm"],[1,"badge",3,"ngClass"],["class","badge bg-warning ms-1",4,"ngIf"],[1,"material-icons","opacity-10","text-dark","cursor-pointer"],[1,"text-sm","text-dark","d-flex"],[1,"material-icons","opacity-5"],[1,"badge","bg-warning","ms-1"],[3,"currentPage","perPage","total","lastPage","loadPage","changePerPage"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,Ge,9,7,"div",2),e.qZA(),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"h6"),e._uU(10,"All Events"),e.qZA(),e.TgZ(11,"p",9),e._UZ(12,"i",10),e.TgZ(13,"span",11),e._uU(14),e.qZA()()(),e.TgZ(15,"div",12)(16,"div",13)(17,"input",14),e.NdJ("ngModelChange",function(l){return i.searchTerm=l})("keyup",function(l){return i.onKeyUp(l)}),e.qZA()(),e.TgZ(18,"button",15)(19,"i",16),e._uU(20,"add"),e.qZA(),e._uU(21," New Event"),e.qZA()()()(),e.TgZ(22,"div",17)(23,"div",18)(24,"table",19)(25,"thead")(26,"tr")(27,"th",20),e._uU(28," Event & Location"),e.qZA(),e.TgZ(29,"th",21),e._uU(30," Host / Trainer"),e.qZA(),e.TgZ(31,"th",22),e._uU(32," Guest Count"),e.qZA(),e.YNc(33,$e,2,0,"th",23),e.TgZ(34,"th",21),e._uU(35," Created On"),e.qZA(),e.TgZ(36,"th",21),e._uU(37," Status"),e.qZA(),e.TgZ(38,"th",22),e._uU(39," #"),e.qZA()()(),e.TgZ(40,"tbody"),e.YNc(41,Ve,3,1,"tr",24),e.YNc(42,Xe,27,15,"tr",25),e.qZA()()(),e.TgZ(43,"nav",26),e.YNc(44,et,1,4,"app-paginator",27),e.qZA()()()()()()),2&t&&(e.xp6(2),e.Q6J("ngForOf",i.latestEvents),e.xp6(12),e.hij("",(null==i.list||null==i.list.data?null:i.list.data.length)||0," Total"),e.xp6(3),e.Q6J("ngModel",i.searchTerm),e.xp6(16),e.Q6J("ngIf","Admin"==(null==i.user?null:i.user.role)),e.xp6(8),e.Q6J("ngIf",(null==i.list?null:i.list.data)&&0==i.list.data.length),e.xp6(1),e.Q6J("ngForOf",null==i.list?null:i.list.data),e.xp6(2),e.Q6J("ngIf",(null==i.list?null:i.list.data)&&i.list.data.length>0))},dependencies:[k.mk,k.sg,k.O5,h.Fj,h.JJ,h.On,Pe.Z,k.uU]}),o})();function it(o,n){1&o&&(e.TgZ(0,"div",19),e._uU(1,"This is required"),e.qZA())}function nt(o,n){1&o&&(e.TgZ(0,"div",19),e._uU(1,"This is required"),e.qZA())}function ot(o,n){1&o&&(e.TgZ(0,"div",19),e._uU(1,"Required valid email address"),e.qZA())}function rt(o,n){1&o&&(e.TgZ(0,"div",19),e._uU(1,"This is required"),e.qZA())}function st(o,n){1&o&&(e.TgZ(0,"div",19),e._uU(1,"Required 10 digit mobile number"),e.qZA())}function at(o,n){1&o&&(e.TgZ(0,"div",19),e._uU(1,"This is required"),e.qZA())}function lt(o,n){1&o&&(e.TgZ(0,"div",19),e._uU(1,"This is required"),e.qZA())}function dt(o,n){1&o&&(e.TgZ(0,"div",19),e._uU(1,"Required valid email address"),e.qZA())}function pt(o,n){1&o&&(e.TgZ(0,"div",19),e._uU(1,"This is required"),e.qZA())}const z=function(o,n){return{"is-invalid":o,"is-valid":n}};let ct=(()=>{class o{constructor(t,i,r,l){this.activeModal=t,this.fb=i,this.adminService=r,this.notificationService=l}ngOnInit(){this.initForm()}get f(){return this.form.controls}initForm(){this.form=this.fb.group({name:[null,[h.kI.required]],email:[null,[h.kI.required,h.kI.email]],mobile:[null,[h.kI.required,h.kI.pattern("^[0-9]*$"),h.kI.minLength(10),h.kI.maxLength(10)]],role:["User",[h.kI.required]],password:[null,[h.kI.required]]})}submit(){this.form.markAllAsTouched(),this.form.valid&&this.adminService.addUser({employee_code:null,employee_name:this.f.name.value,email:this.f.email.value,mobile_no:this.f.mobile.value,status:"Active",role:this.f.role.value,password:this.f.password.value}).subscribe({next:i=>{this.notificationService.showSuccess(i.message),this.activeModal.close(!0)}})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(E.Kz),e.Y36(h.qu),e.Y36($.l),e.Y36(G.g))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-add-user"]],decls:67,vars:34,consts:[["novalidate","novalidate",1,"form","w-100",3,"formGroup","ngSubmit"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["aria-hidden","true","aria-label","Close",1,"close","cursor-pointer",3,"click"],[1,"material-icons","text-lg","position-relative"],[1,"modal-body"],[1,"row"],[1,"col-lg-6","col-md-12"],[1,"input-outline","my-1"],[1,"form-label"],[2,"color","red"],["type","text","placeholder","Name","formControlName","name",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","text","placeholder","Email Id","formControlName","email",1,"form-control",3,"ngClass"],["type","text","placeholder","Mobile number","formControlName","mobile",1,"form-control",3,"ngClass"],["formControlName","role",1,"form-control",3,"ngClass"],["type","password","placeholder","Password","formControlName","password",1,"form-control",3,"ngClass"],[1,"modal-footer","justify-content-start"],["type","submit",1,"btn","bg-gradient-primary"],[1,"invalid-feedback"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return i.submit()}),e.TgZ(1,"div",1)(2,"h4",2),e._uU(3,"Add New Employee"),e.qZA(),e.TgZ(4,"span",3),e.NdJ("click",function(){return i.activeModal.close(!1)}),e.TgZ(5,"i",4),e._uU(6,"close"),e.qZA()()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"label",9),e._uU(12,"Employee Name "),e.TgZ(13,"span",10),e._uU(14,"*"),e.qZA()(),e._UZ(15,"input",11),e.YNc(16,it,2,0,"div",12),e.qZA()(),e.TgZ(17,"div",7)(18,"div",8)(19,"label",9),e._uU(20,"Email Address "),e.TgZ(21,"span",10),e._uU(22,"*"),e.qZA()(),e._UZ(23,"input",13),e.YNc(24,nt,2,0,"div",12),e.YNc(25,ot,2,0,"div",12),e.qZA()(),e.TgZ(26,"div",7)(27,"div",8)(28,"label",9),e._uU(29,"Phone Number "),e.TgZ(30,"span",10),e._uU(31,"*"),e.qZA()(),e._UZ(32,"input",14),e.YNc(33,rt,2,0,"div",12),e.YNc(34,st,2,0,"div",12),e.qZA()(),e.TgZ(35,"div",7)(36,"div",8)(37,"label",9),e._uU(38,"Role "),e.TgZ(39,"span",10),e._uU(40,"*"),e.qZA()(),e.TgZ(41,"select",15)(42,"option"),e._uU(43,"Admin"),e.qZA(),e.TgZ(44,"option"),e._uU(45,"User"),e.qZA()(),e.YNc(46,at,2,0,"div",12),e.qZA()(),e.TgZ(47,"div",7)(48,"div",8)(49,"label",9),e._uU(50,"Employee Id "),e.TgZ(51,"span",10),e._uU(52,"*"),e.qZA()(),e._UZ(53,"input",13),e.YNc(54,lt,2,0,"div",12),e.YNc(55,dt,2,0,"div",12),e.qZA()(),e.TgZ(56,"div",7)(57,"div",8)(58,"label",9),e._uU(59,"Password "),e.TgZ(60,"span",10),e._uU(61,"*"),e.qZA()(),e._UZ(62,"input",16),e.YNc(63,pt,2,0,"div",12),e.qZA()()()(),e.TgZ(64,"div",17)(65,"button",18),e._uU(66,"Submit"),e.qZA()()()),2&t&&(e.Q6J("formGroup",i.form),e.xp6(15),e.Q6J("ngClass",e.WLB(16,z,i.form.controls.name.invalid,i.form.controls.name.valid)),e.xp6(1),e.Q6J("ngIf",i.form.controls.name.hasError("required")&&(i.form.controls.name.dirty||i.form.controls.name.touched)),e.xp6(7),e.Q6J("ngClass",e.WLB(19,z,i.form.controls.email.invalid,i.form.controls.email.valid)),e.xp6(1),e.Q6J("ngIf",i.form.controls.email.hasError("required")&&(i.form.controls.email.dirty||i.form.controls.email.touched)),e.xp6(1),e.Q6J("ngIf",i.form.controls.email.hasError("pattern")&&(i.form.controls.email.dirty||i.form.controls.email.touched)),e.xp6(7),e.Q6J("ngClass",e.WLB(22,z,i.form.controls.mobile.invalid,i.form.controls.mobile.valid)),e.xp6(1),e.Q6J("ngIf",i.form.controls.mobile.hasError("required")&&(i.form.controls.mobile.dirty||i.form.controls.mobile.touched)),e.xp6(1),e.Q6J("ngIf",(i.form.controls.mobile.hasError("pattern")||i.form.controls.mobile.hasError("minlength")||i.form.controls.mobile.hasError("maxlength"))&&(i.form.controls.mobile.dirty||i.form.controls.mobile.touched)),e.xp6(7),e.Q6J("ngClass",e.WLB(25,z,i.form.controls.role.invalid,i.form.controls.role.valid)),e.xp6(5),e.Q6J("ngIf",i.form.controls.role.hasError("required")&&(i.form.controls.role.dirty||i.form.controls.role.touched)),e.xp6(7),e.Q6J("ngClass",e.WLB(28,z,i.form.controls.email.invalid,i.form.controls.email.valid)),e.xp6(1),e.Q6J("ngIf",i.form.controls.email.hasError("required")&&(i.form.controls.email.dirty||i.form.controls.email.touched)),e.xp6(1),e.Q6J("ngIf",i.form.controls.email.hasError("pattern")&&(i.form.controls.email.dirty||i.form.controls.email.touched)),e.xp6(7),e.Q6J("ngClass",e.WLB(31,z,i.form.controls.password.invalid,i.form.controls.password.valid)),e.xp6(1),e.Q6J("ngIf",i.form.controls.password.hasError("required")&&(i.form.controls.password.dirty||i.form.controls.password.touched)))},dependencies:[k.mk,k.O5,h._Y,h.YN,h.Kr,h.Fj,h.EJ,h.JJ,h.JL,h.sg,h.u]}),o})();var ut=g(5546);function ht(o,n){1&o&&(e.TgZ(0,"div",18),e._uU(1,"This is required"),e.qZA())}function gt(o,n){1&o&&(e.TgZ(0,"div",18),e._uU(1,"This is required"),e.qZA())}function mt(o,n){1&o&&(e.TgZ(0,"div",18),e._uU(1,"Required valid email address"),e.qZA())}function yt(o,n){1&o&&(e.TgZ(0,"div",18),e._uU(1,"This is required"),e.qZA())}function vt(o,n){1&o&&(e.TgZ(0,"div",18),e._uU(1,"Required 10 digit mobile number"),e.qZA())}function ft(o,n){1&o&&(e.TgZ(0,"div",18),e._uU(1,"This is required"),e.qZA())}function bt(o,n){1&o&&(e.TgZ(0,"div",18),e._uU(1,"This is required"),e.qZA())}const j=function(o,n){return{"is-invalid":o,"is-valid":n}};let _t=(()=>{class o{constructor(t,i,r,l){this.activeModal=t,this.fb=i,this.adminService=r,this.notificationService=l,this.user=void 0}ngOnInit(){this.initForm()}get f(){return this.form.controls}initForm(){this.form=this.fb.group({name:[this.user.employee_name,[h.kI.required]],email:[this.user.email,[h.kI.required,h.kI.email]],mobile:[this.user.mobile_no,[h.kI.required,h.kI.pattern("^[0-9]*$"),h.kI.minLength(10),h.kI.maxLength(10)]],role:[this.user.role,[h.kI.required]],status:[this.user.status,[h.kI.required]]})}submit(){this.form.markAllAsTouched(),this.form.valid&&this.adminService.updateUser({id:this.user.employee_id,employee_code:null,employee_name:this.f.name.value,email:this.f.email.value,mobile_no:this.f.mobile.value,status:this.f.status.value,role:this.f.role.value}).subscribe({next:i=>{this.notificationService.showSuccess(i.message),this.activeModal.close(!0)}})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(E.Kz),e.Y36(h.qu),e.Y36($.l),e.Y36(G.g))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-update-user"]],inputs:{user:"user"},decls:52,vars:28,consts:[["novalidate","novalidate",1,"form","w-100",3,"formGroup","ngSubmit"],[1,"modal-header"],["id","modal-basic-title",1,"modal-title"],["aria-hidden","true","aria-label","Close",1,"close","cursor-pointer",3,"click"],[1,"material-icons","text-lg","position-relative"],[1,"modal-body"],[1,"row"],[1,"col-12"],[1,"input-outline","my-1"],[1,"form-label"],["type","text","placeholder","Name","formControlName","name",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","text","placeholder","Email Id","formControlName","email",1,"form-control",3,"ngClass"],["type","text","placeholder","Mobile number","formControlName","mobile",1,"form-control",3,"ngClass"],["formControlName","role",1,"form-control",3,"ngClass"],["formControlName","status",1,"form-control",3,"ngClass"],[1,"modal-footer","justify-content-start"],["type","submit",1,"btn","bg-gradient-primary"],[1,"invalid-feedback"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0),e.NdJ("ngSubmit",function(){return i.submit()}),e.TgZ(1,"div",1)(2,"h4",2),e._uU(3,"Update User"),e.qZA(),e.TgZ(4,"span",3),e.NdJ("click",function(){return i.activeModal.close(!1)}),e.TgZ(5,"i",4),e._uU(6,"close"),e.qZA()()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"label",9),e._uU(12,"Name"),e.qZA(),e._UZ(13,"input",10),e.YNc(14,ht,2,0,"div",11),e.qZA()(),e.TgZ(15,"div",7)(16,"div",8)(17,"label",9),e._uU(18,"Email"),e.qZA(),e._UZ(19,"input",12),e.YNc(20,gt,2,0,"div",11),e.YNc(21,mt,2,0,"div",11),e.qZA()(),e.TgZ(22,"div",7)(23,"div",8)(24,"label",9),e._uU(25,"Mobile"),e.qZA(),e._UZ(26,"input",13),e.YNc(27,yt,2,0,"div",11),e.YNc(28,vt,2,0,"div",11),e.qZA()(),e.TgZ(29,"div",7)(30,"div",8)(31,"label",9),e._uU(32,"Role"),e.qZA(),e.TgZ(33,"select",14)(34,"option"),e._uU(35,"Admin"),e.qZA(),e.TgZ(36,"option"),e._uU(37,"User"),e.qZA()(),e.YNc(38,ft,2,0,"div",11),e.qZA()(),e.TgZ(39,"div",7)(40,"div",8)(41,"label",9),e._uU(42,"Status"),e.qZA(),e.TgZ(43,"select",15)(44,"option"),e._uU(45,"Active"),e.qZA(),e.TgZ(46,"option"),e._uU(47,"Inactive"),e.qZA()(),e.YNc(48,bt,2,0,"div",11),e.qZA()()()(),e.TgZ(49,"div",16)(50,"button",17),e._uU(51,"Submit"),e.qZA()()()),2&t&&(e.Q6J("formGroup",i.form),e.xp6(13),e.Q6J("ngClass",e.WLB(13,j,i.form.controls.name.invalid,i.form.controls.name.valid)),e.xp6(1),e.Q6J("ngIf",i.form.controls.name.hasError("required")&&(i.form.controls.name.dirty||i.form.controls.name.touched)),e.xp6(5),e.Q6J("ngClass",e.WLB(16,j,i.form.controls.email.invalid,i.form.controls.email.valid)),e.xp6(1),e.Q6J("ngIf",i.form.controls.email.hasError("required")&&(i.form.controls.email.dirty||i.form.controls.email.touched)),e.xp6(1),e.Q6J("ngIf",i.form.controls.email.hasError("pattern")&&(i.form.controls.email.dirty||i.form.controls.email.touched)),e.xp6(5),e.Q6J("ngClass",e.WLB(19,j,i.form.controls.mobile.invalid,i.form.controls.mobile.valid)),e.xp6(1),e.Q6J("ngIf",i.form.controls.mobile.hasError("required")&&(i.form.controls.mobile.dirty||i.form.controls.mobile.touched)),e.xp6(1),e.Q6J("ngIf",(i.form.controls.mobile.hasError("pattern")||i.form.controls.mobile.hasError("minlength")||i.form.controls.mobile.hasError("maxlength"))&&(i.form.controls.mobile.dirty||i.form.controls.mobile.touched)),e.xp6(5),e.Q6J("ngClass",e.WLB(22,j,i.form.controls.role.invalid,i.form.controls.role.valid)),e.xp6(5),e.Q6J("ngIf",i.form.controls.role.hasError("required")&&(i.form.controls.role.dirty||i.form.controls.role.touched)),e.xp6(5),e.Q6J("ngClass",e.WLB(25,j,i.form.controls.status.invalid,i.form.controls.status.valid)),e.xp6(5),e.Q6J("ngIf",i.form.controls.status.hasError("required")&&(i.form.controls.status.dirty||i.form.controls.status.touched)))},dependencies:[k.mk,k.O5,h._Y,h.YN,h.Kr,h.Fj,h.EJ,h.JJ,h.JL,h.sg,h.u]}),o})();var Ct=g(2669);function It(o,n){1&o&&(e.TgZ(0,"tr")(1,"td",24),e._uU(2,"No users available"),e.qZA()())}const Ot=function(o,n){return{"bg-success":o,"bg-danger":n}};function wt(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td")(2,"span",25),e.NdJ("click",function(){const l=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.updateUser(l))}),e._uU(3),e.qZA()(),e.TgZ(4,"td")(5,"span",26),e._uU(6),e.qZA()(),e.TgZ(7,"td",27)(8,"span",26),e._uU(9),e.qZA()(),e.TgZ(10,"td",27)(11,"span",28)(12,"i",29),e._uU(13,"person"),e.qZA(),e._uU(14),e.qZA()(),e.TgZ(15,"td",27)(16,"span",30),e._uU(17),e.qZA()(),e.TgZ(18,"td",31)(19,"i",32),e.NdJ("click",function(){const l=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.changePassword(l))}),e._uU(20,"lock"),e.qZA()()()}if(2&o){const t=n.$implicit;e.xp6(3),e.Oqu(t.employee_name),e.xp6(3),e.Oqu(t.email),e.xp6(3),e.hij(" ",t.mobile_no," "),e.xp6(5),e.hij("\xa0",t.role," "),e.xp6(2),e.Q6J("ngClass",e.WLB(6,Ot,"Active"==t.status,"Inactive"==t.status)),e.xp6(1),e.hij("",t.status," ")}}function Mt(o,n){if(1&o){const t=e.EpF();e.TgZ(0,"app-paginator",33),e.NdJ("loadPage",function(r){e.CHM(t);const l=e.oxw();return e.KtG(l.pager(r))})("changePerPage",function(r){e.CHM(t);const l=e.oxw();return e.KtG(l.changePerPage(r))}),e.qZA()}if(2&o){const t=e.oxw();e.Q6J("currentPage",t.currentPage)("perPage",t.perPage)("total",t.list.total)("lastPage",t.list.totalPages)}}const At=[{path:"",component:qe,children:[{path:"",redirectTo:"dashboard",pathMatch:"full"},{path:"dashboard",component:tt},{path:"users",canActivate:[We.a],data:{roles:["Admin"]},component:(()=>{class o{constructor(t,i){this.modalService=t,this.adminService=i,this.list={},this.currentPage=1,this.perPage=10,this.searchTerm="",this.searchTermChanged=new V.x}ngOnInit(){this.getData()}onKeyUp(t){0===this.searchTermChanged.observers.length&&this.searchTermChanged.pipe((0,Te.b)(600),(0,re.x)()).subscribe(i=>{this.currentPage=1,this.getData()}),this.searchTermChanged.next(t)}getData(){this.adminService.getAllUsers({search:this.searchTerm,pageNumber:this.currentPage,numberOfRows:this.perPage}).subscribe({next:i=>{this.list=i}})}addUser(){this.modalService.open(ct,{backdropClass:"modal-backdrop",backdrop:"static",keyboard:!1}).result.then(i=>{i&&(this.currentPage=1,this.getData())})}importUsers(){this.modalService.open(Ct.K,{backdropClass:"modal-backdrop",backdrop:"static",keyboard:!1}).result.then(i=>{i&&(this.currentPage=1,this.getData())})}updateUser(t){const i=this.modalService.open(_t,{backdropClass:"modal-backdrop",backdrop:"static",keyboard:!1});i.componentInstance.user=t,i.result.then(r=>{r&&(this.currentPage=1,this.getData())})}changePassword(t){const i=this.modalService.open(ut.p,{backdropClass:"modal-backdrop",backdrop:"static",keyboard:!1});i.componentInstance.user=t,i.result.then(r=>{})}pager(t){this.currentPage=t,this.getData()}changePerPage(t){this.currentPage=1,this.perPage=t,this.getData()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(E.FF),e.Y36($.l))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-users"]],decls:42,vars:5,consts:[[1,"container-fluid"],[1,"row"],[1,"col-lg-12","col-md-12","mb-md-0","mb-4"],[1,"card"],[1,"card-header","pb-0"],[1,"col-lg-6","col-12"],[1,"text-sm","mb-0"],["aria-hidden","true",1,"fa","fa-check","text-info"],[1,"font-weight-bold"],[1,"col-lg-6","col-12","my-auto","text-end","d-inline-flex","justify-content-end","align-items-center"],[1,"input-outline","me-2"],["type","text",1,"form-control",3,"ngModel","ngModelChange","keyup"],["type","button",1,"btn","bg-gradient-primary","mb-0",3,"click"],[1,"material-icons","opacity-10"],[1,"card-body","px-0","pb-2"],[1,"table-responsive"],[1,"table","align-items-center","mb-0"],[1,"text-uppercase","text-secondary","text-xs","font-weight-bolder","opacity-7"],[1,"text-uppercase","text-secondary","text-xs","font-weight-bolder","opacity-7","ps-2"],[1,"text-center","text-uppercase","text-secondary","text-xs","font-weight-bolder","opacity-7"],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"px-4","mt-3"],[3,"currentPage","perPage","total","lastPage","loadPage","changePerPage",4,"ngIf"],["colspan","5",1,"text-center"],[1,"text-sm","text-dark","text-decoration-underline","px-3","cursor-pointer",3,"click"],[1,"text-sm","text-dark"],[1,"align-middle"],[1,"text-sm","text-dark","d-flex"],[1,"material-icons","opacity-5"],[1,"badge",3,"ngClass"],[1,"align-middle","text-center","text-sm"],[1,"material-icons","opacity-10","text-dark","cursor-pointer",3,"click"],[3,"currentPage","perPage","total","lastPage","loadPage","changePerPage"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",1)(6,"div",5)(7,"h6"),e._uU(8,"All Users"),e.qZA(),e.TgZ(9,"p",6),e._UZ(10,"i",7),e.TgZ(11,"span",8),e._uU(12),e.qZA()()(),e.TgZ(13,"div",9)(14,"div",10)(15,"input",11),e.NdJ("ngModelChange",function(l){return i.searchTerm=l})("keyup",function(l){return i.onKeyUp(l)}),e.qZA()(),e.TgZ(16,"button",12),e.NdJ("click",function(){return i.addUser()}),e.TgZ(17,"i",13),e._uU(18,"add"),e.qZA(),e._uU(19," New User"),e.qZA()()()(),e.TgZ(20,"div",14)(21,"div",15)(22,"table",16)(23,"thead")(24,"tr")(25,"th",17),e._uU(26," Name"),e.qZA(),e.TgZ(27,"th",18),e._uU(28," Email"),e.qZA(),e.TgZ(29,"th",18),e._uU(30," Mobile"),e.qZA(),e.TgZ(31,"th",18),e._uU(32," Role"),e.qZA(),e.TgZ(33,"th",18),e._uU(34," Status"),e.qZA(),e.TgZ(35,"th",19),e._uU(36," #"),e.qZA()()(),e.TgZ(37,"tbody"),e.YNc(38,It,3,0,"tr",20),e.YNc(39,wt,21,9,"tr",21),e.qZA()()(),e.TgZ(40,"nav",22),e.YNc(41,Mt,1,4,"app-paginator",23),e.qZA()()()()()()),2&t&&(e.xp6(12),e.hij("",(null==i.list||null==i.list.data?null:i.list.data.length)||0," Total"),e.xp6(3),e.Q6J("ngModel",i.searchTerm),e.xp6(23),e.Q6J("ngIf",(null==i.list?null:i.list.data)&&0==i.list.data.length),e.xp6(1),e.Q6J("ngForOf",null==i.list?null:i.list.data),e.xp6(2),e.Q6J("ngIf",(null==i.list?null:i.list.data)&&i.list.data.length>0))},dependencies:[k.mk,k.sg,k.O5,h.Fj,h.JJ,h.On,Pe.Z]}),o})()}]}];let Tt=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[x.Bz.forChild(At),x.Bz]}),o})();var Pt=g(2271);const Ut=new e.OlP("NGX_ECHARTS_CONFIG");let Bt=(()=>{class o{static forRoot(t){return{ngModule:o,providers:[{provide:Ut,useValue:t}]}}static forChild(){return{ngModule:o}}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({}),o})();function s(o,n,t,i){var d,r=arguments.length,l=r<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(o,n,t,i);else for(var u=o.length-1;u>=0;u--)(d=o[u])&&(l=(r<3?d(l):r>3?d(n,t,l):d(n,t))||l);return r>3&&l&&Object.defineProperty(n,t,l),l}function ae(o,n){return function(t,i){n(t,i,o)}}function a(o,n){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(o,n)}function S(o,n,t,i){return new(t||(t=Promise))(function(l,d){function u(w){try{p(i.next(w))}catch(D){d(D)}}function v(w){try{p(i.throw(w))}catch(D){d(D)}}function p(w){w.done?l(w.value):function r(l){return l instanceof t?l:new t(function(d){d(l)})}(w.value).then(u,v)}p((i=i.apply(o,n||[])).next())})}var B=g(9751),Se=g(1135),St=g(2076),xt=g(5963),Zt=g(576),Lt=g(3268);function xe(o,n,t){return t?xe(o,n).pipe((0,Lt.Z)(t)):new B.y(i=>{const r=(...d)=>i.next(1===d.length?d[0]:d),l=o(r);return(0,Zt.m)(n)?()=>n(r,l):void 0})}var Et=g(6451),zt=g(6063);class Ze extends V.x{constructor(n=1/0,t=1/0,i=zt.l){super(),this._bufferSize=n,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,t)}next(n){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:l,_windowTime:d}=this;t||(i.push(n),!r&&i.push(l.now()+d)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(n),{_infiniteTimeWindow:i,_buffer:r}=this,l=r.slice();for(let d=0;d<l.length&&!n.closed;d+=i?1:2)n.next(l[d]);return this._checkFinalizedStatuses(n),t}_trimBuffer(){const{_bufferSize:n,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,l=(r?1:2)*n;if(n<1/0&&l<i.length&&i.splice(0,i.length-l),!r){const d=t.now();let u=0;for(let v=1;v<i.length&&i[v]<=d;v+=2)u=v;u&&i.splice(0,u+1)}}}const Wt=g(5577).z;var Ft=g(4482),Rt=g(5032),Le=g(5403),Ee=g(3900),K=g(4004),jt=g(3099);g(2722);var le=g(8675),Gt=g(5684);const ze=["*"];let N=(()=>{let o=class{};return o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=e.Yz7({token:o,factory:function(n){return o.\u0275fac(n)}}),o})(),C=(()=>{let o=class{constructor(t,i){this._loader=t,this._zone=i,this._map=new Promise(r=>{this._mapResolver=r})}createMap(t,i){return this._zone.runOutsideAngular(()=>this._loader.load().then(()=>{const r=new google.maps.Map(t,i);this._mapResolver(r)}))}setMapOptions(t){this._map.then(i=>{i.setOptions(t)})}createMarker(t={},i=!0){return this._map.then(r=>(i&&(t.map=r),new google.maps.Marker(t)))}createInfoWindow(t){return this._map.then(()=>new google.maps.InfoWindow(t))}createCircle(t){return this._map.then(i=>("string"==typeof t.strokePosition&&(t.strokePosition=google.maps.StrokePosition[t.strokePosition]),t.map=i,new google.maps.Circle(t)))}createRectangle(t){return this._map.then(i=>(t.map=i,new google.maps.Rectangle(t)))}createPolyline(t){return this.getNativeMap().then(i=>{let r=new google.maps.Polyline(t);return r.setMap(i),r})}createPolygon(t){return this.getNativeMap().then(i=>{let r=new google.maps.Polygon(t);return r.setMap(i),r})}createDataLayer(t){return this._map.then(i=>{let r=new google.maps.Data(t);return r.setMap(i),r})}createTransitLayer(t){return this._map.then(i=>{let r=new google.maps.TransitLayer;return r.setMap(t.visible?i:null),r})}createBicyclingLayer(t){return this._map.then(i=>{let r=new google.maps.BicyclingLayer;return r.setMap(t.visible?i:null),r})}containsLocation(t,i){return google.maps.geometry.poly.containsLocation(t,i)}subscribeToMapEvent(t){return new B.y(i=>{this._map.then(r=>{r.addListener(t,l=>{this._zone.run(()=>i.next(l))})})})}clearInstanceListeners(){this._map.then(t=>{google.maps.event.clearInstanceListeners(t)})}setCenter(t){return this._map.then(i=>i.setCenter(t))}getZoom(){return this._map.then(t=>t.getZoom())}getBounds(){return this._map.then(t=>t.getBounds())}getMapTypeId(){return this._map.then(t=>t.getMapTypeId())}setZoom(t){return this._map.then(i=>i.setZoom(t))}getCenter(){return this._map.then(t=>t.getCenter())}panTo(t){return this._map.then(i=>i.panTo(t))}panBy(t,i){return this._map.then(r=>r.panBy(t,i))}fitBounds(t,i){return this._map.then(r=>r.fitBounds(t,i))}panToBounds(t,i){return this._map.then(r=>r.panToBounds(t,i))}getNativeMap(){return this._map}triggerMapEvent(t){return this._map.then(i=>google.maps.event.trigger(i,t))}};return o.\u0275fac=function(t){return new(t||o)(e.LFG(N),e.LFG(e.R0b))},o.\u0275prov=e.Yz7({token:o,factory:function(n){return o.\u0275fac(n)}}),o=s([a("design:paramtypes",[N,e.R0b])],o),o})(),Y=(()=>{let o=class{constructor(t){this._wrapper=t,this._layers=new Map}addTransitLayer(t,i){const r=this._wrapper.createTransitLayer(i);this._layers.set(t,r)}addBicyclingLayer(t,i){const r=this._wrapper.createBicyclingLayer(i);this._layers.set(t,r)}deleteLayer(t){return this._layers.get(t).then(i=>{i.setMap(null),this._layers.delete(t)})}toggleLayerVisibility(t,i){return this._layers.get(t).then(r=>{if(i.visible)return this._wrapper.getNativeMap().then(l=>{r.setMap(l)});r.setMap(null)})}};return o.\u0275fac=function(t){return new(t||o)(e.LFG(C))},o.\u0275prov=e.Yz7({token:o,factory:function(n){return o.\u0275fac(n)}}),o=s([a("design:paramtypes",[C])],o),o})(),H=(()=>{let o=class{constructor(t,i){this._apiWrapper=t,this._zone=i,this._circles=new Map}addCircle(t){this._circles.set(t,this._apiWrapper.createCircle({center:{lat:t.latitude,lng:t.longitude},clickable:t.clickable,draggable:t.draggable,editable:t.editable,fillColor:t.fillColor,fillOpacity:t.fillOpacity,radius:t.radius,strokeColor:t.strokeColor,strokeOpacity:t.strokeOpacity,strokePosition:t.strokePosition,strokeWeight:t.strokeWeight,visible:t.visible,zIndex:t.zIndex}))}removeCircle(t){return this._circles.get(t).then(i=>{i.setMap(null),this._circles.delete(t)})}setOptions(t,i){return this._circles.get(t).then(r=>{"string"==typeof i.strokePosition&&(i.strokePosition=google.maps.StrokePosition[i.strokePosition]),r.setOptions(i)})}getBounds(t){return this._circles.get(t).then(i=>i.getBounds())}getCenter(t){return this._circles.get(t).then(i=>i.getCenter())}getRadius(t){return this._circles.get(t).then(i=>i.getRadius())}setCenter(t){return this._circles.get(t).then(i=>i.setCenter({lat:t.latitude,lng:t.longitude}))}setEditable(t){return this._circles.get(t).then(i=>i.setEditable(t.editable))}setDraggable(t){return this._circles.get(t).then(i=>i.setDraggable(t.draggable))}setVisible(t){return this._circles.get(t).then(i=>i.setVisible(t.visible))}setRadius(t){return this._circles.get(t).then(i=>i.setRadius(t.radius))}getNativeCircle(t){return this._circles.get(t)}createEventObservable(t,i){return new B.y(r=>{let l=null;return this._circles.get(i).then(d=>{l=d.addListener(t,u=>this._zone.run(()=>r.next(u)))}),()=>{null!==l&&l.remove()}})}};return o.\u0275fac=function(t){return new(t||o)(e.LFG(C),e.LFG(e.R0b))},o.\u0275prov=e.Yz7({token:o,factory:function(n){return o.\u0275fac(n)}}),o=s([a("design:paramtypes",[C,e.R0b])],o),o})();var de;let m=de=class{constructor(n){this._manager=n,this.clickable=!0,this.draggable=!1,this.editable=!1,this.radius=0,this.strokePosition="CENTER",this.strokeWeight=0,this.visible=!0,this.centerChange=new e.vpe,this.circleClick=new e.vpe,this.circleDblClick=new e.vpe,this.drag=new e.vpe,this.dragEnd=new e.vpe,this.dragStart=new e.vpe,this.mouseDown=new e.vpe,this.mouseMove=new e.vpe,this.mouseOut=new e.vpe,this.mouseOver=new e.vpe,this.mouseUp=new e.vpe,this.radiusChange=new e.vpe,this.rightClick=new e.vpe,this._circleAddedToManager=!1,this._eventSubscriptions=[]}ngOnInit(){this._manager.addCircle(this),this._circleAddedToManager=!0,this._registerEventListeners()}ngOnChanges(n){!this._circleAddedToManager||((n.latitude||n.longitude)&&this._manager.setCenter(this),n.editable&&this._manager.setEditable(this),n.draggable&&this._manager.setDraggable(this),n.visible&&this._manager.setVisible(this),n.radius&&this._manager.setRadius(this),this._updateCircleOptionsChanges(n))}_updateCircleOptionsChanges(n){let t={},i=Object.keys(n).filter(r=>-1!==de._mapOptions.indexOf(r));i.forEach(r=>{t[r]=n[r].currentValue}),i.length>0&&this._manager.setOptions(this,t)}_registerEventListeners(){let n=new Map;n.set("center_changed",this.centerChange),n.set("click",this.circleClick),n.set("dblclick",this.circleDblClick),n.set("drag",this.drag),n.set("dragend",this.dragEnd),n.set("dragstart",this.dragStart),n.set("mousedown",this.mouseDown),n.set("mousemove",this.mouseMove),n.set("mouseout",this.mouseOut),n.set("mouseover",this.mouseOver),n.set("mouseup",this.mouseUp),n.set("radius_changed",this.radiusChange),n.set("rightclick",this.rightClick),n.forEach((t,i)=>{this._eventSubscriptions.push(this._manager.createEventObservable(i,this).subscribe(r=>{switch(i){case"radius_changed":this._manager.getRadius(this).then(l=>t.emit(l));break;case"center_changed":this._manager.getCenter(this).then(l=>t.emit({lat:l.lat(),lng:l.lng()}));break;default:t.emit({coords:{lat:r.latLng.lat(),lng:r.latLng.lng()}})}}))})}ngOnDestroy(){this._eventSubscriptions.forEach(function(n){n.unsubscribe()}),this._eventSubscriptions=null,this._manager.removeCircle(this)}getBounds(){return this._manager.getBounds(this)}getCenter(){return this._manager.getCenter(this)}};m.\u0275fac=function(n){return new(n||m)(e.Y36(H))},m.\u0275dir=e.lG2({type:m,selectors:[["agm-circle"]],inputs:{clickable:"clickable",draggable:["circleDraggable","draggable"],editable:"editable",radius:"radius",strokePosition:"strokePosition",strokeWeight:"strokeWeight",visible:"visible",latitude:"latitude",longitude:"longitude",fillColor:"fillColor",fillOpacity:"fillOpacity",strokeColor:"strokeColor",strokeOpacity:"strokeOpacity",zIndex:"zIndex"},outputs:{centerChange:"centerChange",circleClick:"circleClick",circleDblClick:"circleDblClick",drag:"drag",dragEnd:"dragEnd",dragStart:"dragStart",mouseDown:"mouseDown",mouseMove:"mouseMove",mouseOut:"mouseOut",mouseOver:"mouseOver",mouseUp:"mouseUp",radiusChange:"radiusChange",rightClick:"rightClick"},features:[e.TTD]}),m._mapOptions=["fillColor","fillOpacity","strokeColor","strokeOpacity","strokePosition","strokeWeight","visible","zIndex","clickable"],m.ctorParameters=()=>[{type:H}],s([(0,e.IIB)(),a("design:type",Number)],m.prototype,"latitude",void 0),s([(0,e.IIB)(),a("design:type",Number)],m.prototype,"longitude",void 0),s([(0,e.IIB)(),a("design:type",Object)],m.prototype,"clickable",void 0),s([(0,e.IIB)("circleDraggable"),a("design:type",Object)],m.prototype,"draggable",void 0),s([(0,e.IIB)(),a("design:type",Object)],m.prototype,"editable",void 0),s([(0,e.IIB)(),a("design:type",String)],m.prototype,"fillColor",void 0),s([(0,e.IIB)(),a("design:type",Number)],m.prototype,"fillOpacity",void 0),s([(0,e.IIB)(),a("design:type",Object)],m.prototype,"radius",void 0),s([(0,e.IIB)(),a("design:type",String)],m.prototype,"strokeColor",void 0),s([(0,e.IIB)(),a("design:type",Number)],m.prototype,"strokeOpacity",void 0),s([(0,e.IIB)(),a("design:type",String)],m.prototype,"strokePosition",void 0),s([(0,e.IIB)(),a("design:type",Object)],m.prototype,"strokeWeight",void 0),s([(0,e.IIB)(),a("design:type",Object)],m.prototype,"visible",void 0),s([(0,e.IIB)(),a("design:type",Number)],m.prototype,"zIndex",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],m.prototype,"centerChange",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],m.prototype,"circleClick",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],m.prototype,"circleDblClick",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],m.prototype,"drag",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],m.prototype,"dragEnd",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],m.prototype,"dragStart",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],m.prototype,"mouseDown",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],m.prototype,"mouseMove",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],m.prototype,"mouseOut",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],m.prototype,"mouseOver",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],m.prototype,"mouseUp",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],m.prototype,"radiusChange",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],m.prototype,"rightClick",void 0),m=de=s([a("design:paramtypes",[H])],m);let J=(()=>{let o=class{constructor(t,i){this._wrapper=t,this._zone=i,this._layers=new Map}addDataLayer(t){const i=this._wrapper.createDataLayer({style:t.style}).then(r=>(t.geoJson&&this.getDataFeatures(r,t.geoJson).then(l=>r.features=l),r));this._layers.set(t,i)}deleteDataLayer(t){this._layers.get(t).then(i=>{i.setMap(null),this._layers.delete(t)})}updateGeoJson(t,i){this._layers.get(t).then(r=>{r.forEach(function(l){r.remove(l);var d=r.features.indexOf(l,0);d>-1&&r.features.splice(d,1)}),this.getDataFeatures(r,i).then(l=>r.features=l)})}setDataOptions(t,i){this._layers.get(t).then(r=>{r.setControlPosition(i.controlPosition),r.setControls(i.controls),r.setDrawingMode(i.drawingMode),r.setStyle(i.style)})}createEventObservable(t,i){return new B.y(r=>{this._layers.get(i).then(l=>{l.addListener(t,d=>this._zone.run(()=>r.next(d)))})})}getDataFeatures(t,i){return new Promise((r,l)=>{if("object"==typeof i)try{r(t.addGeoJson(i))}catch(d){l(d)}else"string"==typeof i?t.loadGeoJson(i,null,r):l("Impossible to extract features from geoJson: wrong argument type")})}};return o.\u0275fac=function(t){return new(t||o)(e.LFG(C),e.LFG(e.R0b))},o.\u0275prov=e.Yz7({token:o,factory:function(n){return o.\u0275fac(n)}}),o=s([a("design:paramtypes",[C,e.R0b])],o),o})();var pe;let Qt=0,T=pe=class{constructor(n){this._manager=n,this._addedToManager=!1,this._id=(Qt++).toString(),this._subscriptions=[],this.layerClick=new e.vpe,this.geoJson=null}ngOnInit(){this._addedToManager||(this._manager.addDataLayer(this),this._addedToManager=!0,this._addEventListeners())}_addEventListeners(){[{name:"click",handler:t=>this.layerClick.emit(t)}].forEach(t=>{const i=this._manager.createEventObservable(t.name,this).subscribe(t.handler);this._subscriptions.push(i)})}id(){return this._id}toString(){return`AgmDataLayer-${this._id.toString()}`}ngOnDestroy(){this._manager.deleteDataLayer(this),this._subscriptions.forEach(n=>n.unsubscribe())}ngOnChanges(n){if(!this._addedToManager)return;var t=n.geoJson;t&&this._manager.updateGeoJson(this,t.currentValue);let i={};pe._dataOptionsAttributes.forEach(r=>i[r]=n.hasOwnProperty(r)?n[r].currentValue:this[r]),this._manager.setDataOptions(this,i)}};T.\u0275fac=function(n){return new(n||T)(e.Y36(J))},T.\u0275dir=e.lG2({type:T,selectors:[["agm-data-layer"]],inputs:{geoJson:"geoJson",style:"style"},outputs:{layerClick:"layerClick"},features:[e.TTD]}),T._dataOptionsAttributes=["style"],T.ctorParameters=()=>[{type:J}],s([(0,e.r_U)(),a("design:type",e.vpe)],T.prototype,"layerClick",void 0),s([(0,e.IIB)(),a("design:type",Object)],T.prototype,"geoJson",void 0),s([(0,e.IIB)(),a("design:type",Function)],T.prototype,"style",void 0),T=pe=s([a("design:paramtypes",[J])],T);class X{}let W=(()=>{let o=class{constructor(t){this._boundsChangeSampleTime$=new Se.X(200),this._includeInBounds$=new Se.X(new Map),this.bounds$=(0,St.D)(t.load()).pipe(Wt(()=>this._includeInBounds$),function qt(o){return(0,Ft.e)((n,t)=>{let i=!1,r=null;n.subscribe((0,Le.x)(t,l=>{i=!0,r=l})),o.subscribe((0,Le.x)(t,()=>{if(i){i=!1;const l=r;r=null,t.next(l)}},Rt.Z))})}(this._boundsChangeSampleTime$.pipe((0,Ee.w)(i=>(0,xt.H)(0,i)))),(0,K.U)(i=>this._generateBounds(i)),function Yt(o,n,t){let i,r=!1;return o&&"object"==typeof o?({bufferSize:i=1/0,windowTime:n=1/0,refCount:r=!1,scheduler:t}=o):i=o??1/0,(0,jt.B)({connector:()=>new Ze(i,n,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}(1))}_generateBounds(t){const i=new google.maps.LatLngBounds;return t.forEach(r=>i.extend(r)),i}addToBounds(t){const i=this._createIdentifier(t);if(this._includeInBounds$.value.has(i))return;const r=this._includeInBounds$.value;r.set(i,t),this._includeInBounds$.next(r)}removeFromBounds(t){const i=this._includeInBounds$.value;i.delete(this._createIdentifier(t)),this._includeInBounds$.next(i)}changeFitBoundsChangeSampleTime(t){this._boundsChangeSampleTime$.next(t)}getBounds$(){return this.bounds$}_createIdentifier(t){return`${t.lat}+${t.lng}`}};return o.\u0275fac=function(t){return new(t||o)(e.LFG(N))},o.\u0275prov=e.Yz7({token:o,factory:function(n){return o.\u0275fac(n)}}),o=s([a("design:paramtypes",[N])],o),o})(),F=(()=>{let o=class{constructor(t,i){this._mapsWrapper=t,this._zone=i,this._markers=new Map}convertAnimation(t){return S(this,void 0,void 0,function*(){return null===t?null:this._mapsWrapper.getNativeMap().then(()=>google.maps.Animation[t])})}deleteMarker(t){const i=this._markers.get(t);return null==i?Promise.resolve():i.then(r=>this._zone.run(()=>{r.setMap(null),this._markers.delete(t)}))}updateMarkerPosition(t){return this._markers.get(t).then(i=>i.setPosition({lat:t.latitude,lng:t.longitude}))}updateTitle(t){return this._markers.get(t).then(i=>i.setTitle(t.title))}updateLabel(t){return this._markers.get(t).then(i=>{i.setLabel(t.label)})}updateDraggable(t){return this._markers.get(t).then(i=>i.setDraggable(t.draggable))}updateIcon(t){return this._markers.get(t).then(i=>i.setIcon(t.iconUrl))}updateOpacity(t){return this._markers.get(t).then(i=>i.setOpacity(t.opacity))}updateVisible(t){return this._markers.get(t).then(i=>i.setVisible(t.visible))}updateZIndex(t){return this._markers.get(t).then(i=>i.setZIndex(t.zIndex))}updateClickable(t){return this._markers.get(t).then(i=>i.setClickable(t.clickable))}updateAnimation(t){return S(this,void 0,void 0,function*(){(yield this._markers.get(t)).setAnimation(yield this.convertAnimation(t.animation))})}addMarker(t){const i=new Promise(r=>S(this,void 0,void 0,function*(){return this._mapsWrapper.createMarker({position:{lat:t.latitude,lng:t.longitude},label:t.label,draggable:t.draggable,icon:t.iconUrl,opacity:t.opacity,visible:t.visible,zIndex:t.zIndex,title:t.title,clickable:t.clickable,animation:yield this.convertAnimation(t.animation)}).then(r)}));this._markers.set(t,i)}getNativeMarker(t){return this._markers.get(t)}createEventObservable(t,i){return new B.y(r=>{this._markers.get(i).then(l=>{l.addListener(t,d=>this._zone.run(()=>r.next(d)))})})}};return o.\u0275fac=function(t){return new(t||o)(e.LFG(C),e.LFG(e.R0b))},o.\u0275prov=e.Yz7({token:o,factory:function(n){return o.\u0275fac(n)}}),o=s([a("design:paramtypes",[C,e.R0b])],o),o})(),ee=(()=>{let o=class{constructor(t,i,r){this._mapsWrapper=t,this._zone=i,this._markerManager=r,this._infoWindows=new Map}deleteInfoWindow(t){const i=this._infoWindows.get(t);return null==i?Promise.resolve():i.then(r=>this._zone.run(()=>{r.close(),this._infoWindows.delete(t)}))}setPosition(t){return this._infoWindows.get(t).then(i=>i.setPosition({lat:t.latitude,lng:t.longitude}))}setZIndex(t){return this._infoWindows.get(t).then(i=>i.setZIndex(t.zIndex))}open(t){return this._infoWindows.get(t).then(i=>null!=t.hostMarker?this._markerManager.getNativeMarker(t.hostMarker).then(r=>this._mapsWrapper.getNativeMap().then(l=>i.open(l,r))):this._mapsWrapper.getNativeMap().then(r=>i.open(r)))}close(t){return this._infoWindows.get(t).then(i=>i.close())}setOptions(t,i){return this._infoWindows.get(t).then(r=>r.setOptions(i))}addInfoWindow(t){const i={content:t.content,maxWidth:t.maxWidth,zIndex:t.zIndex,disableAutoPan:t.disableAutoPan};"number"==typeof t.latitude&&"number"==typeof t.longitude&&(i.position={lat:t.latitude,lng:t.longitude});const r=this._mapsWrapper.createInfoWindow(i);this._infoWindows.set(t,r)}createEventObservable(t,i){return new B.y(r=>{this._infoWindows.get(i).then(l=>{l.addListener(t,d=>this._zone.run(()=>r.next(d)))})})}};return o.\u0275fac=function(t){return new(t||o)(e.LFG(C),e.LFG(e.R0b),e.LFG(F))},o.\u0275prov=e.Yz7({token:o,factory:function(n){return o.\u0275fac(n)}}),o=s([a("design:paramtypes",[C,e.R0b,F])],o),o})();var ce;let Ht=0,I=ce=class{constructor(n,t){this._infoWindowManager=n,this._el=t,this.isOpen=!1,this.infoWindowClose=new e.vpe,this._infoWindowAddedToManager=!1,this._id=(Ht++).toString()}ngOnInit(){this.content=this._el.nativeElement.querySelector(".agm-info-window-content"),this._infoWindowManager.addInfoWindow(this),this._infoWindowAddedToManager=!0,this._updateOpenState(),this._registerEventListeners()}ngOnChanges(n){!this._infoWindowAddedToManager||((n.latitude||n.longitude)&&"number"==typeof this.latitude&&"number"==typeof this.longitude&&this._infoWindowManager.setPosition(this),n.zIndex&&this._infoWindowManager.setZIndex(this),n.isOpen&&this._updateOpenState(),this._setInfoWindowOptions(n))}_registerEventListeners(){this._infoWindowManager.createEventObservable("closeclick",this).subscribe(()=>{this.isOpen=!1,this.infoWindowClose.emit()})}_updateOpenState(){this.isOpen?this.open():this.close()}_setInfoWindowOptions(n){let t={};Object.keys(n).filter(r=>-1!==ce._infoWindowOptionsInputs.indexOf(r)).forEach(r=>{t[r]=n[r].currentValue}),this._infoWindowManager.setOptions(this,t)}open(){return this._infoWindowManager.open(this)}close(){return this._infoWindowManager.close(this).then(()=>{this.infoWindowClose.emit()})}id(){return this._id}toString(){return"AgmInfoWindow-"+this._id.toString()}ngOnDestroy(){this._infoWindowManager.deleteInfoWindow(this)}};I.\u0275fac=function(n){return new(n||I)(e.Y36(ee),e.Y36(e.SBq))},I.\u0275cmp=e.Xpm({type:I,selectors:[["agm-info-window"]],inputs:{isOpen:"isOpen",latitude:"latitude",longitude:"longitude",disableAutoPan:"disableAutoPan",zIndex:"zIndex",maxWidth:"maxWidth"},outputs:{infoWindowClose:"infoWindowClose"},features:[e.TTD],ngContentSelectors:ze,decls:2,vars:0,consts:[[1,"agm-info-window-content"]],template:function(n,t){1&n&&(e.F$t(),e.TgZ(0,"div",0),e.Hsn(1),e.qZA())},encapsulation:2}),I._infoWindowOptionsInputs=["disableAutoPan","maxWidth"],I.ctorParameters=()=>[{type:ee},{type:e.SBq}],s([(0,e.IIB)(),a("design:type",Number)],I.prototype,"latitude",void 0),s([(0,e.IIB)(),a("design:type",Number)],I.prototype,"longitude",void 0),s([(0,e.IIB)(),a("design:type",Boolean)],I.prototype,"disableAutoPan",void 0),s([(0,e.IIB)(),a("design:type",Number)],I.prototype,"zIndex",void 0),s([(0,e.IIB)(),a("design:type",Number)],I.prototype,"maxWidth",void 0),s([(0,e.IIB)(),a("design:type",Object)],I.prototype,"isOpen",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],I.prototype,"infoWindowClose",void 0),I=ce=s([a("design:paramtypes",[ee,e.SBq])],I);let te=(()=>{let o=class{constructor(t,i){this._wrapper=t,this._zone=i,this._layers=new Map}addKmlLayer(t){const i=this._wrapper.getNativeMap().then(r=>new google.maps.KmlLayer({clickable:t.clickable,map:r,preserveViewport:t.preserveViewport,screenOverlays:t.screenOverlays,suppressInfoWindows:t.suppressInfoWindows,url:t.url,zIndex:t.zIndex}));this._layers.set(t,i)}setOptions(t,i){this._layers.get(t).then(r=>r.setOptions(i))}deleteKmlLayer(t){this._layers.get(t).then(i=>{i.setMap(null),this._layers.delete(t)})}createEventObservable(t,i){return new B.y(r=>{this._layers.get(i).then(l=>{l.addListener(t,d=>this._zone.run(()=>r.next(d)))})})}};return o.\u0275fac=function(t){return new(t||o)(e.LFG(C),e.LFG(e.R0b))},o.\u0275prov=e.Yz7({token:o,factory:function(n){return o.\u0275fac(n)}}),o=s([a("design:paramtypes",[C,e.R0b])],o),o})();var ue;let Xt=0,O=ue=class{constructor(n){this._manager=n,this._addedToManager=!1,this._id=(Xt++).toString(),this._subscriptions=[],this.clickable=!0,this.preserveViewport=!1,this.screenOverlays=!0,this.suppressInfoWindows=!1,this.url=null,this.zIndex=null,this.layerClick=new e.vpe,this.defaultViewportChange=new e.vpe,this.statusChange=new e.vpe}ngOnInit(){this._addedToManager||(this._manager.addKmlLayer(this),this._addedToManager=!0,this._addEventListeners())}ngOnChanges(n){!this._addedToManager||this._updatePolygonOptions(n)}_updatePolygonOptions(n){const t=Object.keys(n).filter(i=>-1!==ue._kmlLayerOptions.indexOf(i)).reduce((i,r)=>(i[r]=n[r].currentValue,i),{});Object.keys(t).length>0&&this._manager.setOptions(this,t)}_addEventListeners(){[{name:"click",handler:t=>this.layerClick.emit(t)},{name:"defaultviewport_changed",handler:()=>this.defaultViewportChange.emit()},{name:"status_changed",handler:()=>this.statusChange.emit()}].forEach(t=>{const i=this._manager.createEventObservable(t.name,this).subscribe(t.handler);this._subscriptions.push(i)})}id(){return this._id}toString(){return`AgmKmlLayer-${this._id.toString()}`}ngOnDestroy(){this._manager.deleteKmlLayer(this),this._subscriptions.forEach(n=>n.unsubscribe())}};function he(o){const n=["insert_at","remove_at","set_at"];return xe(t=>n.map(i=>o.addListener(i,(r,l)=>t.apply(o,[{newArr:o.getArray(),evName:i,index:r,previous:l}]))),(t,i)=>i.forEach(r=>r.remove()))}O.\u0275fac=function(n){return new(n||O)(e.Y36(te))},O.\u0275dir=e.lG2({type:O,selectors:[["agm-kml-layer"]],inputs:{clickable:"clickable",preserveViewport:"preserveViewport",screenOverlays:"screenOverlays",suppressInfoWindows:"suppressInfoWindows",url:"url",zIndex:"zIndex"},outputs:{layerClick:"layerClick",defaultViewportChange:"defaultViewportChange",statusChange:"statusChange"},features:[e.TTD]}),O._kmlLayerOptions=["clickable","preserveViewport","screenOverlays","suppressInfoWindows","url","zIndex"],O.ctorParameters=()=>[{type:te}],s([(0,e.IIB)(),a("design:type",Object)],O.prototype,"clickable",void 0),s([(0,e.IIB)(),a("design:type",Object)],O.prototype,"preserveViewport",void 0),s([(0,e.IIB)(),a("design:type",Object)],O.prototype,"screenOverlays",void 0),s([(0,e.IIB)(),a("design:type",Object)],O.prototype,"suppressInfoWindows",void 0),s([(0,e.IIB)(),a("design:type",String)],O.prototype,"url",void 0),s([(0,e.IIB)(),a("design:type",Number)],O.prototype,"zIndex",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],O.prototype,"layerClick",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],O.prototype,"defaultViewportChange",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],O.prototype,"statusChange",void 0),O=ue=s([a("design:paramtypes",[te])],O);let ie=(()=>{let o=class{constructor(t,i){this._mapsWrapper=t,this._zone=i,this._polygons=new Map}addPolygon(t){const i=this._mapsWrapper.createPolygon({clickable:t.clickable,draggable:t.draggable,editable:t.editable,fillColor:t.fillColor,fillOpacity:t.fillOpacity,geodesic:t.geodesic,paths:t.paths,strokeColor:t.strokeColor,strokeOpacity:t.strokeOpacity,strokeWeight:t.strokeWeight,visible:t.visible,zIndex:t.zIndex});this._polygons.set(t,i)}updatePolygon(t){const i=this._polygons.get(t);return null==i?Promise.resolve():i.then(r=>this._zone.run(()=>{r.setPaths(t.paths)}))}setPolygonOptions(t,i){return this._polygons.get(t).then(r=>{r.setOptions(i)})}deletePolygon(t){const i=this._polygons.get(t);return null==i?Promise.resolve():i.then(r=>this._zone.run(()=>{r.setMap(null),this._polygons.delete(t)}))}getPath(t){return this._polygons.get(t).then(i=>i.getPath().getArray())}getPaths(t){return this._polygons.get(t).then(i=>i.getPaths().getArray().map(r=>r.getArray()))}createEventObservable(t,i){return new B.y(r=>{this._polygons.get(i).then(l=>{l.addListener(t,d=>this._zone.run(()=>r.next(d)))})})}createPathEventObservable(t){return S(this,void 0,void 0,function*(){const r=(yield this._polygons.get(t)).getPaths();return he(r).pipe((0,le.O)({newArr:r.getArray()}),(0,Ee.w)(d=>(0,Et.T)(...d.newArr.map((u,v)=>he(u).pipe((0,K.U)(p=>({parentMVEvent:d,chMVCEvent:p,pathIndex:v}))))).pipe((0,le.O)({parentMVEvent:d,chMVCEvent:null,pathIndex:null}))),(0,Gt.T)(1),(0,K.U)(({parentMVEvent:d,chMVCEvent:u,pathIndex:v})=>{let p;return u?(p={newArr:d.newArr.map(w=>w.getArray().map(D=>D.toJSON())),pathIndex:v,eventName:u.evName,index:u.index},u.previous&&(p.previous=u.previous)):(p={newArr:d.newArr.map(w=>w.getArray().map(D=>D.toJSON())),eventName:d.evName,index:d.index},d.previous&&(p.previous=d.previous.getArray())),p}))})}};return o.\u0275fac=function(t){return new(t||o)(e.LFG(C),e.LFG(e.R0b))},o.\u0275prov=e.Yz7({token:o,factory:function(n){return o.\u0275fac(n)}}),o=s([a("design:paramtypes",[C,e.R0b])],o),o})();var Z;let P=Z=class{constructor(n,t){this._mapsWrapper=n,this._zone=t,this._polylines=new Map}static _convertPoints(n){return n._getPoints().map(i=>({lat:i.latitude,lng:i.longitude}))}static _convertPath(n){const t=google.maps.SymbolPath[n];return"number"==typeof t?t:n}static _convertIcons(n){const t=n._getIcons().map(i=>({fixedRotation:i.fixedRotation,offset:i.offset,repeat:i.repeat,icon:{anchor:new google.maps.Point(i.anchorX,i.anchorY),fillColor:i.fillColor,fillOpacity:i.fillOpacity,path:Z._convertPath(i.path),rotation:i.rotation,scale:i.scale,strokeColor:i.strokeColor,strokeOpacity:i.strokeOpacity,strokeWeight:i.strokeWeight}}));return t.forEach(i=>{Object.entries(i).forEach(([r,l])=>{typeof l>"u"&&delete i[r]}),(typeof i.icon.anchor.x>"u"||typeof i.icon.anchor.y>"u")&&delete i.icon.anchor}),t}addPolyline(n){const t=this._mapsWrapper.getNativeMap().then(()=>[Z._convertPoints(n),Z._convertIcons(n)]).then(([i,r])=>this._mapsWrapper.createPolyline({clickable:n.clickable,draggable:n.draggable,editable:n.editable,geodesic:n.geodesic,strokeColor:n.strokeColor,strokeOpacity:n.strokeOpacity,strokeWeight:n.strokeWeight,visible:n.visible,zIndex:n.zIndex,path:i,icons:r}));this._polylines.set(n,t)}updatePolylinePoints(n){const t=Z._convertPoints(n),i=this._polylines.get(n);return null==i?Promise.resolve():i.then(r=>this._zone.run(()=>{r.setPath(t)}))}updateIconSequences(n){return S(this,void 0,void 0,function*(){yield this._mapsWrapper.getNativeMap();const t=Z._convertIcons(n),i=this._polylines.get(n);if(null!=i)return i.then(r=>this._zone.run(()=>r.setOptions({icons:t})))})}setPolylineOptions(n,t){return this._polylines.get(n).then(i=>{i.setOptions(t)})}deletePolyline(n){const t=this._polylines.get(n);return null==t?Promise.resolve():t.then(i=>this._zone.run(()=>{i.setMap(null),this._polylines.delete(n)}))}getMVCPath(n){return S(this,void 0,void 0,function*(){return(yield this._polylines.get(n)).getPath()})}getPath(n){return S(this,void 0,void 0,function*(){return(yield this.getMVCPath(n)).getArray()})}createEventObservable(n,t){return new B.y(i=>{this._polylines.get(t).then(r=>{r.addListener(n,l=>this._zone.run(()=>i.next(l)))})})}createPathEventObservable(n){return S(this,void 0,void 0,function*(){return he(yield this.getMVCPath(n))})}};P.\u0275fac=function(n){return new(n||P)(e.LFG(C),e.LFG(e.R0b))},P.\u0275prov=e.Yz7({token:P,factory:function(o){return P.\u0275fac(o)}}),P.ctorParameters=()=>[{type:C},{type:e.R0b}],P=Z=s([a("design:paramtypes",[C,e.R0b])],P);let ne=(()=>{let o=class{constructor(t,i){this._apiWrapper=t,this._zone=i,this._rectangles=new Map}addRectangle(t){this._rectangles.set(t,this._apiWrapper.createRectangle({bounds:{north:t.north,east:t.east,south:t.south,west:t.west},clickable:t.clickable,draggable:t.draggable,editable:t.editable,fillColor:t.fillColor,fillOpacity:t.fillOpacity,strokeColor:t.strokeColor,strokeOpacity:t.strokeOpacity,strokePosition:t.strokePosition,strokeWeight:t.strokeWeight,visible:t.visible,zIndex:t.zIndex}))}removeRectangle(t){return this._rectangles.get(t).then(i=>{i.setMap(null),this._rectangles.delete(t)})}setOptions(t,i){return this._rectangles.get(t).then(r=>r.setOptions(i))}getBounds(t){return this._rectangles.get(t).then(i=>i.getBounds())}setBounds(t){return this._rectangles.get(t).then(i=>i.setBounds({north:t.north,east:t.east,south:t.south,west:t.west}))}setEditable(t){return this._rectangles.get(t).then(i=>i.setEditable(t.editable))}setDraggable(t){return this._rectangles.get(t).then(i=>i.setDraggable(t.draggable))}setVisible(t){return this._rectangles.get(t).then(i=>i.setVisible(t.visible))}createEventObservable(t,i){return B.y.create(r=>{let l=null;return this._rectangles.get(i).then(d=>{l=d.addListener(t,u=>this._zone.run(()=>r.next(u)))}),()=>{null!==l&&l.remove()}})}};return o.\u0275fac=function(t){return new(t||o)(e.LFG(C),e.LFG(e.R0b))},o.\u0275prov=e.Yz7({token:o,factory:function(n){return o.\u0275fac(n)}}),o=s([a("design:paramtypes",[C,e.R0b])],o),o})();var ge;let c=ge=class{constructor(n,t,i,r){this._elem=n,this._mapsWrapper=t,this._fitBoundsService=i,this._zone=r,this.longitude=0,this.latitude=0,this.zoom=8,this.draggable=!0,this.disableDoubleClickZoom=!1,this.disableDefaultUI=!1,this.scrollwheel=!0,this.keyboardShortcuts=!0,this.styles=[],this.usePanning=!1,this.fitBounds=!1,this.scaleControl=!1,this.mapTypeControl=!1,this.panControl=!1,this.rotateControl=!1,this.fullscreenControl=!1,this.mapTypeId="roadmap",this.clickableIcons=!0,this.showDefaultInfoWindow=!0,this.gestureHandling="auto",this.tilt=0,this._observableSubscriptions=[],this.mapClick=new e.vpe,this.mapRightClick=new e.vpe,this.mapDblClick=new e.vpe,this.centerChange=new e.vpe,this.boundsChange=new e.vpe,this.mapTypeIdChange=new e.vpe,this.idle=new e.vpe,this.zoomChange=new e.vpe,this.mapReady=new e.vpe,this.tilesLoaded=new e.vpe}ngOnInit(){const n=this._elem.nativeElement.querySelector(".agm-map-container-inner");this._initMapInstance(n)}_initMapInstance(n){this._mapsWrapper.createMap(n,{center:{lat:this.latitude||0,lng:this.longitude||0},zoom:this.zoom,minZoom:this.minZoom,maxZoom:this.maxZoom,controlSize:this.controlSize,disableDefaultUI:this.disableDefaultUI,disableDoubleClickZoom:this.disableDoubleClickZoom,scrollwheel:this.scrollwheel,backgroundColor:this.backgroundColor,draggable:this.draggable,draggableCursor:this.draggableCursor,draggingCursor:this.draggingCursor,keyboardShortcuts:this.keyboardShortcuts,styles:this.styles,zoomControl:this.zoomControl,zoomControlOptions:this.zoomControlOptions,streetViewControl:this.streetViewControl,streetViewControlOptions:this.streetViewControlOptions,scaleControl:this.scaleControl,scaleControlOptions:this.scaleControlOptions,mapTypeControl:this.mapTypeControl,mapTypeControlOptions:this.mapTypeControlOptions,panControl:this.panControl,panControlOptions:this.panControlOptions,rotateControl:this.rotateControl,rotateControlOptions:this.rotateControlOptions,fullscreenControl:this.fullscreenControl,fullscreenControlOptions:this.fullscreenControlOptions,mapTypeId:this.mapTypeId,clickableIcons:this.clickableIcons,gestureHandling:this.gestureHandling,tilt:this.tilt,restriction:this.restriction}).then(()=>this._mapsWrapper.getNativeMap()).then(t=>this.mapReady.emit(t)),this._handleMapCenterChange(),this._handleMapZoomChange(),this._handleMapMouseEvents(),this._handleBoundsChange(),this._handleMapTypeIdChange(),this._handleTilesLoadedEvent(),this._handleIdleEvent()}ngOnDestroy(){this._observableSubscriptions.forEach(n=>n.unsubscribe()),this._mapsWrapper.clearInstanceListeners(),this._fitBoundsSubscription&&this._fitBoundsSubscription.unsubscribe()}ngOnChanges(n){this._updateMapOptionsChanges(n),this._updatePosition(n)}_updateMapOptionsChanges(n){let t={};Object.keys(n).filter(r=>-1!==ge._mapOptionsAttributes.indexOf(r)).forEach(r=>{t[r]=n[r].currentValue}),this._mapsWrapper.setMapOptions(t)}triggerResize(n=!0){return new Promise(t=>{setTimeout(()=>this._mapsWrapper.triggerMapEvent("resize").then(()=>{n&&(null!=this.fitBounds?this._fitBounds():this._setCenter()),t()}))})}_updatePosition(n){if(null!=n.latitude||null!=n.longitude||n.fitBounds){if("fitBounds"in n)return void this._fitBounds();"number"!=typeof this.latitude||"number"!=typeof this.longitude||this._setCenter()}}_setCenter(){let n={lat:this.latitude,lng:this.longitude};this.usePanning?this._mapsWrapper.panTo(n):this._mapsWrapper.setCenter(n)}_fitBounds(){switch(this.fitBounds){case!0:this._subscribeToFitBoundsUpdates();break;case!1:this._fitBoundsSubscription&&this._fitBoundsSubscription.unsubscribe();break;default:this._updateBounds(this.fitBounds,this.fitBoundsPadding)}}_subscribeToFitBoundsUpdates(){this._zone.runOutsideAngular(()=>{this._fitBoundsSubscription=this._fitBoundsService.getBounds$().subscribe(n=>{this._zone.run(()=>this._updateBounds(n,this.fitBoundsPadding))})})}_updateBounds(n,t){if(n){if(this._isLatLngBoundsLiteral(n)&&typeof google<"u"&&google&&google.maps&&google.maps.LatLngBounds){const i=new google.maps.LatLngBounds;i.union(n),n=i}if(this.usePanning)return void this._mapsWrapper.panToBounds(n,t);this._mapsWrapper.fitBounds(n,t)}}_isLatLngBoundsLiteral(n){return null!=n&&void 0===n.extend}_handleMapCenterChange(){const n=this._mapsWrapper.subscribeToMapEvent("center_changed").subscribe(()=>{this._mapsWrapper.getCenter().then(t=>{this.latitude=t.lat(),this.longitude=t.lng(),this.centerChange.emit({lat:this.latitude,lng:this.longitude})})});this._observableSubscriptions.push(n)}_handleBoundsChange(){const n=this._mapsWrapper.subscribeToMapEvent("bounds_changed").subscribe(()=>{this._mapsWrapper.getBounds().then(t=>{this.boundsChange.emit(t)})});this._observableSubscriptions.push(n)}_handleMapTypeIdChange(){const n=this._mapsWrapper.subscribeToMapEvent("maptypeid_changed").subscribe(()=>{this._mapsWrapper.getMapTypeId().then(t=>{this.mapTypeIdChange.emit(t)})});this._observableSubscriptions.push(n)}_handleMapZoomChange(){const n=this._mapsWrapper.subscribeToMapEvent("zoom_changed").subscribe(()=>{this._mapsWrapper.getZoom().then(t=>{this.zoom=t,this.zoomChange.emit(t)})});this._observableSubscriptions.push(n)}_handleIdleEvent(){const n=this._mapsWrapper.subscribeToMapEvent("idle").subscribe(()=>{this.idle.emit(void 0)});this._observableSubscriptions.push(n)}_handleTilesLoadedEvent(){const n=this._mapsWrapper.subscribeToMapEvent("tilesloaded").subscribe(()=>this.tilesLoaded.emit(void 0));this._observableSubscriptions.push(n)}_handleMapMouseEvents(){[{name:"click",emitter:this.mapClick},{name:"rightclick",emitter:this.mapRightClick},{name:"dblclick",emitter:this.mapDblClick}].forEach(t=>{const i=this._mapsWrapper.subscribeToMapEvent(t.name).subscribe(r=>{let l={coords:{lat:r.latLng.lat(),lng:r.latLng.lng()},placeId:r.placeId};l.placeId&&!this.showDefaultInfoWindow&&r.stop(),t.emitter.emit(l)});this._observableSubscriptions.push(i)})}};var me;c.\u0275fac=function(n){return new(n||c)(e.Y36(e.SBq),e.Y36(C),e.Y36(W),e.Y36(e.R0b))},c.\u0275cmp=e.Xpm({type:c,selectors:[["agm-map"]],hostVars:2,hostBindings:function(n,t){2&n&&e.ekj("sebm-google-map-container",!0)},inputs:{longitude:"longitude",latitude:"latitude",zoom:"zoom",draggable:["mapDraggable","draggable"],disableDoubleClickZoom:"disableDoubleClickZoom",disableDefaultUI:"disableDefaultUI",scrollwheel:"scrollwheel",keyboardShortcuts:"keyboardShortcuts",styles:"styles",usePanning:"usePanning",fitBounds:"fitBounds",scaleControl:"scaleControl",mapTypeControl:"mapTypeControl",panControl:"panControl",rotateControl:"rotateControl",fullscreenControl:"fullscreenControl",mapTypeId:"mapTypeId",clickableIcons:"clickableIcons",showDefaultInfoWindow:"showDefaultInfoWindow",gestureHandling:"gestureHandling",tilt:"tilt",minZoom:"minZoom",maxZoom:"maxZoom",controlSize:"controlSize",backgroundColor:"backgroundColor",draggableCursor:"draggableCursor",draggingCursor:"draggingCursor",zoomControl:"zoomControl",zoomControlOptions:"zoomControlOptions",streetViewControl:"streetViewControl",streetViewControlOptions:"streetViewControlOptions",fitBoundsPadding:"fitBoundsPadding",scaleControlOptions:"scaleControlOptions",mapTypeControlOptions:"mapTypeControlOptions",panControlOptions:"panControlOptions",rotateControlOptions:"rotateControlOptions",fullscreenControlOptions:"fullscreenControlOptions",restriction:"restriction"},outputs:{mapClick:"mapClick",mapRightClick:"mapRightClick",mapDblClick:"mapDblClick",centerChange:"centerChange",boundsChange:"boundsChange",mapTypeIdChange:"mapTypeIdChange",idle:"idle",zoomChange:"zoomChange",mapReady:"mapReady",tilesLoaded:"tilesLoaded"},features:[e._Bn([H,J,J,W,C,ee,te,Y,F,ie,P,ne]),e.TTD],ngContentSelectors:ze,decls:3,vars:0,consts:[[1,"agm-map-container-inner","sebm-google-map-container-inner"],[1,"agm-map-content"]],template:function(n,t){1&n&&(e.F$t(),e._UZ(0,"div",0),e.TgZ(1,"div",1),e.Hsn(2),e.qZA())},styles:[".agm-map-container-inner[_ngcontent-%COMP%] {\n      width: inherit;\n      height: inherit;\n    }\n    .agm-map-content[_ngcontent-%COMP%] {\n      display:none;\n    }"]}),c._mapOptionsAttributes=["disableDoubleClickZoom","scrollwheel","draggable","draggableCursor","draggingCursor","keyboardShortcuts","zoomControl","zoomControlOptions","styles","streetViewControl","streetViewControlOptions","zoom","mapTypeControl","mapTypeControlOptions","minZoom","maxZoom","panControl","panControlOptions","rotateControl","rotateControlOptions","fullscreenControl","fullscreenControlOptions","scaleControl","scaleControlOptions","mapTypeId","clickableIcons","gestureHandling","tilt","restriction"],c.ctorParameters=()=>[{type:e.SBq},{type:C},{type:W},{type:e.R0b}],s([(0,e.IIB)(),a("design:type",Object)],c.prototype,"longitude",void 0),s([(0,e.IIB)(),a("design:type",Object)],c.prototype,"latitude",void 0),s([(0,e.IIB)(),a("design:type",Object)],c.prototype,"zoom",void 0),s([(0,e.IIB)(),a("design:type",Number)],c.prototype,"minZoom",void 0),s([(0,e.IIB)(),a("design:type",Number)],c.prototype,"maxZoom",void 0),s([(0,e.IIB)(),a("design:type",Number)],c.prototype,"controlSize",void 0),s([(0,e.IIB)("mapDraggable"),a("design:type",Object)],c.prototype,"draggable",void 0),s([(0,e.IIB)(),a("design:type",Object)],c.prototype,"disableDoubleClickZoom",void 0),s([(0,e.IIB)(),a("design:type",Object)],c.prototype,"disableDefaultUI",void 0),s([(0,e.IIB)(),a("design:type",Object)],c.prototype,"scrollwheel",void 0),s([(0,e.IIB)(),a("design:type",String)],c.prototype,"backgroundColor",void 0),s([(0,e.IIB)(),a("design:type",String)],c.prototype,"draggableCursor",void 0),s([(0,e.IIB)(),a("design:type",String)],c.prototype,"draggingCursor",void 0),s([(0,e.IIB)(),a("design:type",Object)],c.prototype,"keyboardShortcuts",void 0),s([(0,e.IIB)(),a("design:type",Boolean)],c.prototype,"zoomControl",void 0),s([(0,e.IIB)(),a("design:type",Object)],c.prototype,"zoomControlOptions",void 0),s([(0,e.IIB)(),a("design:type",Array)],c.prototype,"styles",void 0),s([(0,e.IIB)(),a("design:type",Object)],c.prototype,"usePanning",void 0),s([(0,e.IIB)(),a("design:type",Boolean)],c.prototype,"streetViewControl",void 0),s([(0,e.IIB)(),a("design:type",Object)],c.prototype,"streetViewControlOptions",void 0),s([(0,e.IIB)(),a("design:type",Object)],c.prototype,"fitBounds",void 0),s([(0,e.IIB)(),a("design:type",Object)],c.prototype,"fitBoundsPadding",void 0),s([(0,e.IIB)(),a("design:type",Object)],c.prototype,"scaleControl",void 0),s([(0,e.IIB)(),a("design:type",Object)],c.prototype,"scaleControlOptions",void 0),s([(0,e.IIB)(),a("design:type",Object)],c.prototype,"mapTypeControl",void 0),s([(0,e.IIB)(),a("design:type",Object)],c.prototype,"mapTypeControlOptions",void 0),s([(0,e.IIB)(),a("design:type",Object)],c.prototype,"panControl",void 0),s([(0,e.IIB)(),a("design:type",Object)],c.prototype,"panControlOptions",void 0),s([(0,e.IIB)(),a("design:type",Object)],c.prototype,"rotateControl",void 0),s([(0,e.IIB)(),a("design:type",Object)],c.prototype,"rotateControlOptions",void 0),s([(0,e.IIB)(),a("design:type",Object)],c.prototype,"fullscreenControl",void 0),s([(0,e.IIB)(),a("design:type",Object)],c.prototype,"fullscreenControlOptions",void 0),s([(0,e.IIB)(),a("design:type",String)],c.prototype,"mapTypeId",void 0),s([(0,e.IIB)(),a("design:type",Object)],c.prototype,"clickableIcons",void 0),s([(0,e.IIB)(),a("design:type",Object)],c.prototype,"showDefaultInfoWindow",void 0),s([(0,e.IIB)(),a("design:type",String)],c.prototype,"gestureHandling",void 0),s([(0,e.IIB)(),a("design:type",Object)],c.prototype,"tilt",void 0),s([(0,e.IIB)(),a("design:type",Object)],c.prototype,"restriction",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],c.prototype,"mapClick",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],c.prototype,"mapRightClick",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],c.prototype,"mapDblClick",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],c.prototype,"centerChange",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],c.prototype,"boundsChange",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],c.prototype,"mapTypeIdChange",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],c.prototype,"idle",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],c.prototype,"zoomChange",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],c.prototype,"mapReady",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],c.prototype,"tilesLoaded",void 0),c=ge=s([a("design:paramtypes",[e.SBq,C,W,e.R0b])],c);let ei=0,_=me=class{constructor(n){this._markerManager=n,this.draggable=!1,this.visible=!0,this.openInfoWindow=!0,this.opacity=1,this.zIndex=1,this.clickable=!0,this.animationChange=new e.vpe,this.markerClick=new e.vpe,this.markerRightClick=new e.vpe,this.dragStart=new e.vpe,this.drag=new e.vpe,this.dragEnd=new e.vpe,this.mouseOver=new e.vpe,this.mouseOut=new e.vpe,this.infoWindow=new e.n_E,this._markerAddedToManger=!1,this._observableSubscriptions=[],this._fitBoundsDetails$=new Ze(1),this._id=(ei++).toString()}ngAfterContentInit(){this.handleInfoWindowUpdate(),this.infoWindow.changes.subscribe(()=>this.handleInfoWindowUpdate())}handleInfoWindowUpdate(){if(this.infoWindow.length>1)throw new Error("Expected no more than one info window.");this.infoWindow.forEach(n=>{n.hostMarker=this})}ngOnChanges(n){if("string"==typeof this.latitude&&(this.latitude=Number(this.latitude)),"string"==typeof this.longitude&&(this.longitude=Number(this.longitude)),"number"==typeof this.latitude&&"number"==typeof this.longitude){if(!this._markerAddedToManger)return this._markerManager.addMarker(this),this._updateFitBoundsDetails(),this._markerAddedToManger=!0,void this._addEventListeners();(n.latitude||n.longitude)&&(this._markerManager.updateMarkerPosition(this),this._updateFitBoundsDetails()),n.title&&this._markerManager.updateTitle(this),n.label&&this._markerManager.updateLabel(this),n.draggable&&this._markerManager.updateDraggable(this),n.iconUrl&&this._markerManager.updateIcon(this),n.opacity&&this._markerManager.updateOpacity(this),n.visible&&this._markerManager.updateVisible(this),n.zIndex&&this._markerManager.updateZIndex(this),n.clickable&&this._markerManager.updateClickable(this),n.animation&&this._markerManager.updateAnimation(this)}}getFitBoundsDetails$(){return this._fitBoundsDetails$.asObservable()}_updateFitBoundsDetails(){this._fitBoundsDetails$.next({latLng:{lat:this.latitude,lng:this.longitude}})}_addEventListeners(){const n=this._markerManager.createEventObservable("click",this).subscribe(()=>{this.openInfoWindow&&this.infoWindow.forEach(p=>p.open()),this.markerClick.emit(this)});this._observableSubscriptions.push(n);const t=this._markerManager.createEventObservable("rightclick",this).subscribe(()=>{this.markerRightClick.emit(null)});this._observableSubscriptions.push(t);const i=this._markerManager.createEventObservable("dragstart",this).subscribe(p=>{this.dragStart.emit({coords:{lat:p.latLng.lat(),lng:p.latLng.lng()}})});this._observableSubscriptions.push(i);const r=this._markerManager.createEventObservable("drag",this).subscribe(p=>{this.drag.emit({coords:{lat:p.latLng.lat(),lng:p.latLng.lng()}})});this._observableSubscriptions.push(r);const l=this._markerManager.createEventObservable("dragend",this).subscribe(p=>{this.dragEnd.emit({coords:{lat:p.latLng.lat(),lng:p.latLng.lng()}})});this._observableSubscriptions.push(l);const d=this._markerManager.createEventObservable("mouseover",this).subscribe(p=>{this.mouseOver.emit({coords:{lat:p.latLng.lat(),lng:p.latLng.lng()}})});this._observableSubscriptions.push(d);const u=this._markerManager.createEventObservable("mouseout",this).subscribe(p=>{this.mouseOut.emit({coords:{lat:p.latLng.lat(),lng:p.latLng.lng()}})});this._observableSubscriptions.push(u);const v=this._markerManager.createEventObservable("animation_changed",this).subscribe(()=>{this.animationChange.emit(this.animation)});this._observableSubscriptions.push(v)}id(){return this._id}toString(){return"AgmMarker-"+this._id.toString()}ngOnDestroy(){this._markerManager.deleteMarker(this),this._observableSubscriptions.forEach(n=>n.unsubscribe())}};var ye;_.\u0275fac=function(n){return new(n||_)(e.Y36(F))},_.\u0275dir=e.lG2({type:_,selectors:[["agm-marker"]],contentQueries:function(n,t,i){if(1&n&&e.Suo(i,I,4),2&n){let r;e.iGM(r=e.CRH())&&(t.infoWindow=r)}},inputs:{latitude:"latitude",longitude:"longitude",title:"title",label:"label",draggable:["markerDraggable","draggable"],iconUrl:"iconUrl",openInfoWindow:"openInfoWindow",opacity:"opacity",visible:"visible",zIndex:"zIndex",animation:"animation",clickable:["markerClickable","clickable"]},outputs:{markerClick:"markerClick",dragStart:"dragStart",drag:"drag",dragEnd:"dragEnd",mouseOver:"mouseOver",mouseOut:"mouseOut",animationChange:"animationChange",markerRightClick:"markerRightClick"},features:[e._Bn([{provide:X,useExisting:(0,e.Gpc)(()=>me)}]),e.TTD]}),_.ctorParameters=()=>[{type:F}],s([(0,e.IIB)(),a("design:type",Number)],_.prototype,"latitude",void 0),s([(0,e.IIB)(),a("design:type",Number)],_.prototype,"longitude",void 0),s([(0,e.IIB)(),a("design:type",String)],_.prototype,"title",void 0),s([(0,e.IIB)(),a("design:type",Object)],_.prototype,"label",void 0),s([(0,e.IIB)("markerDraggable"),a("design:type",Object)],_.prototype,"draggable",void 0),s([(0,e.IIB)(),a("design:type",String)],_.prototype,"iconUrl",void 0),s([(0,e.IIB)(),a("design:type",Object)],_.prototype,"visible",void 0),s([(0,e.IIB)(),a("design:type",Object)],_.prototype,"openInfoWindow",void 0),s([(0,e.IIB)(),a("design:type",Object)],_.prototype,"opacity",void 0),s([(0,e.IIB)(),a("design:type",Object)],_.prototype,"zIndex",void 0),s([(0,e.IIB)("markerClickable"),a("design:type",Object)],_.prototype,"clickable",void 0),s([(0,e.IIB)(),a("design:type",String)],_.prototype,"animation",void 0),s([(0,e.r_U)(),a("design:type",Object)],_.prototype,"animationChange",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],_.prototype,"markerClick",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],_.prototype,"markerRightClick",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],_.prototype,"dragStart",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],_.prototype,"drag",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],_.prototype,"dragEnd",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],_.prototype,"mouseOver",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],_.prototype,"mouseOut",void 0),s([(0,e.AcB)(I),a("design:type",e.n_E)],_.prototype,"infoWindow",void 0),_=me=s([a("design:paramtypes",[F])],_);let f=ye=class{constructor(n){this._polygonManager=n,this.clickable=!0,this.draggable=!1,this.editable=!1,this.geodesic=!1,this.paths=[],this.polyClick=new e.vpe,this.polyDblClick=new e.vpe,this.polyDrag=new e.vpe,this.polyDragEnd=new e.vpe,this.polyDragStart=new e.vpe,this.polyMouseDown=new e.vpe,this.polyMouseMove=new e.vpe,this.polyMouseOut=new e.vpe,this.polyMouseOver=new e.vpe,this.polyMouseUp=new e.vpe,this.polyRightClick=new e.vpe,this.polyPathsChange=new e.vpe,this._polygonAddedToManager=!1,this._subscriptions=[]}ngAfterContentInit(){this._polygonAddedToManager||this._init()}ngOnChanges(n){this._polygonAddedToManager?this._polygonManager.setPolygonOptions(this,this._updatePolygonOptions(n)):this._init()}_init(){this._polygonManager.addPolygon(this),this._polygonAddedToManager=!0,this._addEventListeners()}_addEventListeners(){[{name:"click",handler:t=>this.polyClick.emit(t)},{name:"dblclick",handler:t=>this.polyDblClick.emit(t)},{name:"drag",handler:t=>this.polyDrag.emit(t)},{name:"dragend",handler:t=>this.polyDragEnd.emit(t)},{name:"dragstart",handler:t=>this.polyDragStart.emit(t)},{name:"mousedown",handler:t=>this.polyMouseDown.emit(t)},{name:"mousemove",handler:t=>this.polyMouseMove.emit(t)},{name:"mouseout",handler:t=>this.polyMouseOut.emit(t)},{name:"mouseover",handler:t=>this.polyMouseOver.emit(t)},{name:"mouseup",handler:t=>this.polyMouseUp.emit(t)},{name:"rightclick",handler:t=>this.polyRightClick.emit(t)}].forEach(t=>{const i=this._polygonManager.createEventObservable(t.name,this).subscribe(t.handler);this._subscriptions.push(i)}),this._polygonManager.createPathEventObservable(this).then(t=>{const i=t.subscribe(r=>this.polyPathsChange.emit(r));this._subscriptions.push(i)})}_updatePolygonOptions(n){return Object.keys(n).filter(t=>-1!==ye._polygonOptionsAttributes.indexOf(t)).reduce((t,i)=>(t[i]=n[i].currentValue,t),{})}id(){return this._id}ngOnDestroy(){this._polygonManager.deletePolygon(this),this._subscriptions.forEach(n=>n.unsubscribe())}getPath(){return this._polygonManager.getPath(this)}getPaths(){return this._polygonManager.getPaths(this)}};f.\u0275fac=function(n){return new(n||f)(e.Y36(ie))},f.\u0275dir=e.lG2({type:f,selectors:[["agm-polygon"]],inputs:{clickable:"clickable",draggable:["polyDraggable","draggable"],editable:"editable",geodesic:"geodesic",paths:"paths",fillColor:"fillColor",fillOpacity:"fillOpacity",strokeColor:"strokeColor",strokeOpacity:"strokeOpacity",strokeWeight:"strokeWeight",visible:"visible",zIndex:"zIndex"},outputs:{polyClick:"polyClick",polyDblClick:"polyDblClick",polyDrag:"polyDrag",polyDragEnd:"polyDragEnd",polyDragStart:"polyDragStart",polyMouseDown:"polyMouseDown",polyMouseMove:"polyMouseMove",polyMouseOut:"polyMouseOut",polyMouseOver:"polyMouseOver",polyMouseUp:"polyMouseUp",polyRightClick:"polyRightClick",polyPathsChange:"polyPathsChange"},features:[e.TTD]}),f._polygonOptionsAttributes=["clickable","draggable","editable","fillColor","fillOpacity","geodesic","icon","map","paths","strokeColor","strokeOpacity","strokeWeight","visible","zIndex","draggable","editable","visible"],f.ctorParameters=()=>[{type:ie}],s([(0,e.IIB)(),a("design:type",Object)],f.prototype,"clickable",void 0),s([(0,e.IIB)("polyDraggable"),a("design:type",Object)],f.prototype,"draggable",void 0),s([(0,e.IIB)(),a("design:type",Object)],f.prototype,"editable",void 0),s([(0,e.IIB)(),a("design:type",String)],f.prototype,"fillColor",void 0),s([(0,e.IIB)(),a("design:type",Number)],f.prototype,"fillOpacity",void 0),s([(0,e.IIB)(),a("design:type",Object)],f.prototype,"geodesic",void 0),s([(0,e.IIB)(),a("design:type",Array)],f.prototype,"paths",void 0),s([(0,e.IIB)(),a("design:type",String)],f.prototype,"strokeColor",void 0),s([(0,e.IIB)(),a("design:type",Number)],f.prototype,"strokeOpacity",void 0),s([(0,e.IIB)(),a("design:type",Number)],f.prototype,"strokeWeight",void 0),s([(0,e.IIB)(),a("design:type",Boolean)],f.prototype,"visible",void 0),s([(0,e.IIB)(),a("design:type",Number)],f.prototype,"zIndex",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],f.prototype,"polyClick",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],f.prototype,"polyDblClick",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],f.prototype,"polyDrag",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],f.prototype,"polyDragEnd",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],f.prototype,"polyDragStart",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],f.prototype,"polyMouseDown",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],f.prototype,"polyMouseMove",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],f.prototype,"polyMouseOut",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],f.prototype,"polyMouseOver",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],f.prototype,"polyMouseUp",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],f.prototype,"polyRightClick",void 0),s([(0,e.r_U)(),a("design:type",Object)],f.prototype,"polyPathsChange",void 0),f=ye=s([a("design:paramtypes",[ie])],f);let ve=(()=>{let o=class{ngOnInit(){if(null==this.path)throw new Error("Icon Sequence path is required")}};return o.\u0275fac=function(t){return new(t||o)},o.\u0275dir=e.lG2({type:o,selectors:[["agm-icon-sequence"]],inputs:{fixedRotation:"fixedRotation",offset:"offset",repeat:"repeat",anchorX:"anchorX",anchorY:"anchorY",fillColor:"fillColor",fillOpacity:"fillOpacity",path:"path",rotation:"rotation",scale:"scale",strokeColor:"strokeColor",strokeOpacity:"strokeOpacity",strokeWeight:"strokeWeight"}}),s([(0,e.IIB)(),a("design:type",Boolean)],o.prototype,"fixedRotation",void 0),s([(0,e.IIB)(),a("design:type",String)],o.prototype,"offset",void 0),s([(0,e.IIB)(),a("design:type",String)],o.prototype,"repeat",void 0),s([(0,e.IIB)(),a("design:type",Number)],o.prototype,"anchorX",void 0),s([(0,e.IIB)(),a("design:type",Number)],o.prototype,"anchorY",void 0),s([(0,e.IIB)(),a("design:type",String)],o.prototype,"fillColor",void 0),s([(0,e.IIB)(),a("design:type",Number)],o.prototype,"fillOpacity",void 0),s([(0,e.IIB)(),a("design:type",String)],o.prototype,"path",void 0),s([(0,e.IIB)(),a("design:type",Number)],o.prototype,"rotation",void 0),s([(0,e.IIB)(),a("design:type",Number)],o.prototype,"scale",void 0),s([(0,e.IIB)(),a("design:type",String)],o.prototype,"strokeColor",void 0),s([(0,e.IIB)(),a("design:type",Number)],o.prototype,"strokeOpacity",void 0),s([(0,e.IIB)(),a("design:type",Number)],o.prototype,"strokeWeight",void 0),o})();var fe;let U=fe=class{constructor(){this.positionChanged=new e.vpe}ngOnChanges(n){(n.latitude||n.longitude)&&this.positionChanged.emit({lat:n.latitude?n.latitude.currentValue:this.latitude,lng:n.longitude?n.longitude.currentValue:this.longitude})}getFitBoundsDetails$(){return this.positionChanged.pipe((0,le.O)({lat:this.latitude,lng:this.longitude}),(0,K.U)(n=>({latLng:n})))}};var be;U.\u0275fac=function(n){return new(n||U)},U.\u0275dir=e.lG2({type:U,selectors:[["agm-polyline-point"]],inputs:{latitude:"latitude",longitude:"longitude"},outputs:{positionChanged:"positionChanged"},features:[e._Bn([{provide:X,useExisting:(0,e.Gpc)(()=>fe)}]),e.TTD]}),s([(0,e.IIB)(),a("design:type",Number)],U.prototype,"latitude",void 0),s([(0,e.IIB)(),a("design:type",Number)],U.prototype,"longitude",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],U.prototype,"positionChanged",void 0),U=fe=s([a("design:paramtypes",[])],U);let ti=0,b=be=class{constructor(n){this._polylineManager=n,this.clickable=!0,this.draggable=!1,this.editable=!1,this.geodesic=!1,this.visible=!0,this.lineClick=new e.vpe,this.lineDblClick=new e.vpe,this.lineDrag=new e.vpe,this.lineDragEnd=new e.vpe,this.lineDragStart=new e.vpe,this.lineMouseDown=new e.vpe,this.lineMouseMove=new e.vpe,this.lineMouseOut=new e.vpe,this.lineMouseOver=new e.vpe,this.lineMouseUp=new e.vpe,this.lineRightClick=new e.vpe,this.polyPathChange=new e.vpe,this._polylineAddedToManager=!1,this._subscriptions=[],this._id=(ti++).toString()}ngAfterContentInit(){this.points.length&&this.points.forEach(i=>{const r=i.positionChanged.subscribe(()=>{this._polylineManager.updatePolylinePoints(this)});this._subscriptions.push(r)}),this._polylineAddedToManager||this._init();const n=this.points.changes.subscribe(()=>this._polylineManager.updatePolylinePoints(this));this._subscriptions.push(n),this._polylineManager.updatePolylinePoints(this);const t=this.iconSequences.changes.subscribe(()=>this._polylineManager.updateIconSequences(this));this._subscriptions.push(t)}ngOnChanges(n){if(!this._polylineAddedToManager)return void this._init();let t={};Object.keys(n).filter(r=>-1!==be._polylineOptionsAttributes.indexOf(r)).forEach(r=>t[r]=n[r].currentValue),this._polylineManager.setPolylineOptions(this,t)}getPath(){return this._polylineManager.getPath(this)}_init(){this._polylineManager.addPolyline(this),this._polylineAddedToManager=!0,this._addEventListeners()}_addEventListeners(){[{name:"click",handler:t=>this.lineClick.emit(t)},{name:"dblclick",handler:t=>this.lineDblClick.emit(t)},{name:"drag",handler:t=>this.lineDrag.emit(t)},{name:"dragend",handler:t=>this.lineDragEnd.emit(t)},{name:"dragstart",handler:t=>this.lineDragStart.emit(t)},{name:"mousedown",handler:t=>this.lineMouseDown.emit(t)},{name:"mousemove",handler:t=>this.lineMouseMove.emit(t)},{name:"mouseout",handler:t=>this.lineMouseOut.emit(t)},{name:"mouseover",handler:t=>this.lineMouseOver.emit(t)},{name:"mouseup",handler:t=>this.lineMouseUp.emit(t)},{name:"rightclick",handler:t=>this.lineRightClick.emit(t)}].forEach(t=>{const i=this._polylineManager.createEventObservable(t.name,this).subscribe(t.handler);this._subscriptions.push(i)}),this._polylineManager.createPathEventObservable(this).then(t=>{const i=t.subscribe(r=>this.polyPathChange.emit(r));this._subscriptions.push(i)})}_getPoints(){return this.points?this.points.toArray():[]}_getIcons(){return this.iconSequences?this.iconSequences.toArray():[]}id(){return this._id}ngOnDestroy(){this._polylineManager.deletePolyline(this),this._subscriptions.forEach(n=>n.unsubscribe())}};var _e;b.\u0275fac=function(n){return new(n||b)(e.Y36(P))},b.\u0275dir=e.lG2({type:b,selectors:[["agm-polyline"]],contentQueries:function(n,t,i){if(1&n&&(e.Suo(i,U,4),e.Suo(i,ve,4)),2&n){let r;e.iGM(r=e.CRH())&&(t.points=r),e.iGM(r=e.CRH())&&(t.iconSequences=r)}},inputs:{clickable:"clickable",draggable:["polylineDraggable","draggable"],editable:"editable",geodesic:"geodesic",visible:"visible",strokeColor:"strokeColor",strokeOpacity:"strokeOpacity",strokeWeight:"strokeWeight",zIndex:"zIndex"},outputs:{lineClick:"lineClick",lineDblClick:"lineDblClick",lineDrag:"lineDrag",lineDragEnd:"lineDragEnd",lineDragStart:"lineDragStart",lineMouseDown:"lineMouseDown",lineMouseMove:"lineMouseMove",lineMouseOut:"lineMouseOut",lineMouseOver:"lineMouseOver",lineMouseUp:"lineMouseUp",lineRightClick:"lineRightClick",polyPathChange:"polyPathChange"},features:[e.TTD]}),b._polylineOptionsAttributes=["draggable","editable","visible","geodesic","strokeColor","strokeOpacity","strokeWeight","zIndex"],b.ctorParameters=()=>[{type:P}],s([(0,e.IIB)(),a("design:type",Object)],b.prototype,"clickable",void 0),s([(0,e.IIB)("polylineDraggable"),a("design:type",Object)],b.prototype,"draggable",void 0),s([(0,e.IIB)(),a("design:type",Object)],b.prototype,"editable",void 0),s([(0,e.IIB)(),a("design:type",Object)],b.prototype,"geodesic",void 0),s([(0,e.IIB)(),a("design:type",String)],b.prototype,"strokeColor",void 0),s([(0,e.IIB)(),a("design:type",Number)],b.prototype,"strokeOpacity",void 0),s([(0,e.IIB)(),a("design:type",Number)],b.prototype,"strokeWeight",void 0),s([(0,e.IIB)(),a("design:type",Object)],b.prototype,"visible",void 0),s([(0,e.IIB)(),a("design:type",Number)],b.prototype,"zIndex",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],b.prototype,"lineClick",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],b.prototype,"lineDblClick",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],b.prototype,"lineDrag",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],b.prototype,"lineDragEnd",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],b.prototype,"lineDragStart",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],b.prototype,"lineMouseDown",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],b.prototype,"lineMouseMove",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],b.prototype,"lineMouseOut",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],b.prototype,"lineMouseOver",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],b.prototype,"lineMouseUp",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],b.prototype,"lineRightClick",void 0),s([(0,e.r_U)(),a("design:type",Object)],b.prototype,"polyPathChange",void 0),s([(0,e.AcB)(U),a("design:type",e.n_E)],b.prototype,"points",void 0),s([(0,e.AcB)(ve),a("design:type",e.n_E)],b.prototype,"iconSequences",void 0),b=be=s([a("design:paramtypes",[P])],b);let y=_e=class{constructor(n){this._manager=n,this.clickable=!0,this.draggable=!1,this.editable=!1,this.strokePosition="CENTER",this.strokeWeight=0,this.visible=!0,this.boundsChange=new e.vpe,this.rectangleClick=new e.vpe,this.rectangleDblClick=new e.vpe,this.drag=new e.vpe,this.dragEnd=new e.vpe,this.dragStart=new e.vpe,this.mouseDown=new e.vpe,this.mouseMove=new e.vpe,this.mouseOut=new e.vpe,this.mouseOver=new e.vpe,this.mouseUp=new e.vpe,this.rightClick=new e.vpe,this._rectangleAddedToManager=!1,this._eventSubscriptions=[]}ngOnInit(){this._manager.addRectangle(this),this._rectangleAddedToManager=!0,this._registerEventListeners()}ngOnChanges(n){!this._rectangleAddedToManager||((n.north||n.east||n.south||n.west)&&this._manager.setBounds(this),n.editable&&this._manager.setEditable(this),n.draggable&&this._manager.setDraggable(this),n.visible&&this._manager.setVisible(this),this._updateRectangleOptionsChanges(n))}_updateRectangleOptionsChanges(n){let t={},i=Object.keys(n).filter(r=>-1!==_e._mapOptions.indexOf(r));i.forEach(r=>{t[r]=n[r].currentValue}),i.length>0&&this._manager.setOptions(this,t)}_registerEventListeners(){let n=new Map;n.set("bounds_changed",this.boundsChange),n.set("click",this.rectangleClick),n.set("dblclick",this.rectangleDblClick),n.set("drag",this.drag),n.set("dragend",this.dragEnd),n.set("dragStart",this.dragStart),n.set("mousedown",this.mouseDown),n.set("mousemove",this.mouseMove),n.set("mouseout",this.mouseOut),n.set("mouseover",this.mouseOver),n.set("mouseup",this.mouseUp),n.set("rightclick",this.rightClick),n.forEach((t,i)=>{this._eventSubscriptions.push(this._manager.createEventObservable(i,this).subscribe(r=>{"bounds_changed"===i?this._manager.getBounds(this).then(l=>t.emit({north:l.getNorthEast().lat(),east:l.getNorthEast().lng(),south:l.getSouthWest().lat(),west:l.getSouthWest().lng()})):t.emit({coords:{lat:r.latLng.lat(),lng:r.latLng.lng()}})}))})}ngOnDestroy(){this._eventSubscriptions.forEach(function(n){n.unsubscribe()}),this._eventSubscriptions=null,this._manager.removeRectangle(this)}getBounds(){return this._manager.getBounds(this)}};y.\u0275fac=function(n){return new(n||y)(e.Y36(ne))},y.\u0275dir=e.lG2({type:y,selectors:[["agm-rectangle"]],inputs:{clickable:"clickable",draggable:["rectangleDraggable","draggable"],editable:"editable",strokePosition:"strokePosition",strokeWeight:"strokeWeight",visible:"visible",north:"north",east:"east",south:"south",west:"west",fillColor:"fillColor",fillOpacity:"fillOpacity",strokeColor:"strokeColor",strokeOpacity:"strokeOpacity",zIndex:"zIndex"},outputs:{boundsChange:"boundsChange",rectangleClick:"rectangleClick",rectangleDblClick:"rectangleDblClick",drag:"drag",dragEnd:"dragEnd",dragStart:"dragStart",mouseDown:"mouseDown",mouseMove:"mouseMove",mouseOut:"mouseOut",mouseOver:"mouseOver",mouseUp:"mouseUp",rightClick:"rightClick"},features:[e.TTD]}),y._mapOptions=["fillColor","fillOpacity","strokeColor","strokeOpacity","strokePosition","strokeWeight","visible","zIndex","clickable"],y.ctorParameters=()=>[{type:ne}],s([(0,e.IIB)(),a("design:type",Number)],y.prototype,"north",void 0),s([(0,e.IIB)(),a("design:type",Number)],y.prototype,"east",void 0),s([(0,e.IIB)(),a("design:type",Number)],y.prototype,"south",void 0),s([(0,e.IIB)(),a("design:type",Number)],y.prototype,"west",void 0),s([(0,e.IIB)(),a("design:type",Object)],y.prototype,"clickable",void 0),s([(0,e.IIB)("rectangleDraggable"),a("design:type",Object)],y.prototype,"draggable",void 0),s([(0,e.IIB)(),a("design:type",Object)],y.prototype,"editable",void 0),s([(0,e.IIB)(),a("design:type",String)],y.prototype,"fillColor",void 0),s([(0,e.IIB)(),a("design:type",Number)],y.prototype,"fillOpacity",void 0),s([(0,e.IIB)(),a("design:type",String)],y.prototype,"strokeColor",void 0),s([(0,e.IIB)(),a("design:type",Number)],y.prototype,"strokeOpacity",void 0),s([(0,e.IIB)(),a("design:type",String)],y.prototype,"strokePosition",void 0),s([(0,e.IIB)(),a("design:type",Object)],y.prototype,"strokeWeight",void 0),s([(0,e.IIB)(),a("design:type",Object)],y.prototype,"visible",void 0),s([(0,e.IIB)(),a("design:type",Number)],y.prototype,"zIndex",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],y.prototype,"boundsChange",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],y.prototype,"rectangleClick",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],y.prototype,"rectangleDblClick",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],y.prototype,"drag",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],y.prototype,"dragEnd",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],y.prototype,"dragStart",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],y.prototype,"mouseDown",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],y.prototype,"mouseMove",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],y.prototype,"mouseOut",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],y.prototype,"mouseOver",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],y.prototype,"mouseUp",void 0),s([(0,e.r_U)(),a("design:type",e.vpe)],y.prototype,"rightClick",void 0),y=_e=s([a("design:paramtypes",[ne])],y);class Ce{getNativeWindow(){return window}}class Ie{getNativeDocument(){return document}}const oi=[Ce,Ie];var L=(()=>{return(o=L||(L={}))[o.HTTP=1]="HTTP",o[o.HTTPS=2]="HTTPS",o[o.AUTO=3]="AUTO",L;var o})();const Oe=new e.OlP("angular-google-maps LAZY_MAPS_API_CONFIG");let ri=(()=>{let o=class extends N{constructor(t=null,i,r){super(),this._SCRIPT_ID="agmGoogleMapsApiScript",this.callbackName="agmLazyMapsAPILoader",this._config=t||{},this._windowRef=i,this._documentRef=r}load(){const t=this._windowRef.getNativeWindow();if(t.google&&t.google.maps)return Promise.resolve();if(this._scriptLoadingPromise)return this._scriptLoadingPromise;const i=this._documentRef.getNativeDocument().getElementById(this._SCRIPT_ID);if(i)return this._assignScriptLoadingPromise(i),this._scriptLoadingPromise;const r=this._documentRef.getNativeDocument().createElement("script");return r.type="text/javascript",r.async=!0,r.defer=!0,r.id=this._SCRIPT_ID,r.src=this._getScriptSrc(this.callbackName),this._assignScriptLoadingPromise(r),this._documentRef.getNativeDocument().body.appendChild(r),this._scriptLoadingPromise}_assignScriptLoadingPromise(t){this._scriptLoadingPromise=new Promise((i,r)=>{this._windowRef.getNativeWindow()[this.callbackName]=()=>{i()},t.onerror=l=>{r(l)}})}_getScriptSrc(t){let r;switch(this._config&&this._config.protocol||L.HTTPS){case L.AUTO:r="";break;case L.HTTP:r="http:";break;case L.HTTPS:r="https:"}const d={v:this._config.apiVersion||"quarterly",callback:t,key:this._config.apiKey,client:this._config.clientId,channel:this._config.channel,libraries:this._config.libraries,region:this._config.region,language:this._config.language};return`${r}//${this._config.hostAndPath||"maps.googleapis.com/maps/api/js"}?${Object.keys(d).filter(v=>null!=d[v]).filter(v=>!Array.isArray(d[v])||Array.isArray(d[v])&&d[v].length>0).map(v=>{let p=d[v];return Array.isArray(p)?{key:v,value:p.join(",")}:{key:v,value:d[v]}}).map(v=>`${v.key}=${v.value}`).join("&")}`}};return o.\u0275fac=function(t){return new(t||o)(e.LFG(Oe,8),e.LFG(Ce),e.LFG(Ie))},o.\u0275prov=e.Yz7({token:o,factory:function(n){return o.\u0275fac(n)}}),o=s([ae(0,(0,e.FiY)()),ae(0,(0,e.tBr)(Oe)),a("design:paramtypes",[Object,Ce,Ie])],o),o})();var Ne;let R=Ne=class{static forRoot(n){return{ngModule:Ne,providers:[...oi,{provide:N,useClass:ri},{provide:Oe,useValue:n}]}}};R.\u0275fac=function(n){return new(n||R)},R.\u0275mod=e.oAB({type:R}),R.\u0275inj=e.cJS({});let si=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[k.ez,Tt,Pt.m,Bt.forRoot({echarts:()=>Promise.resolve().then(g.bind(g,1701))}),E.bz,R.forRoot({apiKey:"AIzaSyCMoBT57dft7e61GkfPl4SGiWU0u9FT69Q",libraries:["places"]})]}),o})()}}]);